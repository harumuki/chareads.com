{"version":3,"sources":["webpack:///./node_modules/qs/lib/utils.js","webpack:///./src/components/cards/BookCard/index.tsx","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/qs/lib/stringify.js","webpack:///./node_modules/qs/lib/index.js","webpack:///./src/utils/formatting/text.ts","webpack:///./node_modules/qs/lib/parse.js","webpack:///./node_modules/qs/lib/formats.js"],"names":["has","Object","prototype","hasOwnProperty","isArray","Array","hexTable","array","i","push","toString","toUpperCase","arrayToObject","source","options","obj","plainObjects","create","length","module","exports","assign","target","keys","reduce","acc","key","combine","a","b","concat","compact","value","queue","o","prop","refs","item","j","val","indexOf","pop","compacted","compactQueue","decode","str","decoder","charset","strWithoutPlus","replace","unescape","decodeURIComponent","e","encode","defaultEncoder","string","Symbol","call","String","escape","$0","parseInt","slice","out","c","charCodeAt","charAt","isBuffer","constructor","isRegExp","merge","allowPrototypes","mergeTarget","forEach","targetItem","StyledBookCard","styled","big","props","COLOR","BACKGROUND_DARK","BORDER_RADIUS","S","screenMin","m","StyledImgWrapper","figure","BACKGROUND_LIGHT","StyledImg","Img","StyledAccessibilityTitle","figcaption","FONT","SIZE","StyledMeta","div","XS","StyledVideoLink","button","WEIGHT","BOLD","BookCard","book","featured","hideDetails","className","to","slug","style","background","image","colors","darkVibrant","lightMuted","color","vibrant","muted","bookHeight","toFixed","title","author","fixed","childImageSharp","h150","media","BREAKPOINT","h350","backgroundColor","rating7","video","onClick","preventDefault","navigate","of7","_objectWithoutPropertiesLoose","excluded","sourceKeys","utils","formats","arrayPrefixGenerators","brackets","prefix","comma","indices","repeat","pushToArray","arr","valueOrArray","apply","toISO","Date","toISOString","defaultFormat","defaults","addQueryPrefix","allowDots","charsetSentinel","delimiter","encoder","encodeValuesOnly","format","formatter","formatters","serializeDate","date","skipNulls","strictNullHandling","stringify","object","generateArrayPrefix","filter","sort","v","join","objKeys","values","opts","undefined","TypeError","normalizeStringifyOptions","arrayFormat","joined","parse","stripHtml","text","trim","sortAlphabetically","strings","arrayLimit","depth","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","numberStr","fromCharCode","parseKeys","givenKey","child","segment","exec","parent","index","chain","leaf","root","cleanRoot","isNaN","0","parseObject","Error","normalizeParseOptions","tempObj","cleanStr","limit","Infinity","parts","split","skipIndex","part","bracketEqualsPos","pos","parseValues","newObj","percentTwenties","util","Format","RFC1738","RFC3986"],"mappings":"6FAEA,EAAQ,QAER,IAAIA,EAAMC,OAAOC,UAAUC,eACvBC,EAAUC,MAAMD,QAEhBE,EAAW,WAGb,IAFA,IAAIC,EAAQ,GAEHC,EAAI,EAAGA,EAAI,MAAOA,EACzBD,EAAME,KAAK,MAAQD,EAAI,GAAK,IAAM,IAAMA,EAAEE,SAAS,KAAKC,eAG1D,OAAOJ,EAPM,GA6BXK,EAAgB,SAAuBC,EAAQC,GAGjD,IAFA,IAAIC,EAAMD,GAAWA,EAAQE,aAAef,OAAOgB,OAAO,MAAQ,GAEzDT,EAAI,EAAGA,EAAIK,EAAOK,SAAUV,OACV,IAAdK,EAAOL,KAChBO,EAAIP,GAAKK,EAAOL,IAIpB,OAAOO,GAmMTI,EAAOC,QAAU,CACfR,cAAeA,EACfS,OAtIW,SAA4BC,EAAQT,GAC/C,OAAOZ,OAAOsB,KAAKV,GAAQW,QAAO,SAAUC,EAAKC,GAE/C,OADAD,EAAIC,GAAOb,EAAOa,GACXD,IACNH,IAmIHK,QAPY,SAAiBC,EAAGC,GAChC,MAAO,GAAGC,OAAOF,EAAGC,IAOpBE,QApDY,SAAiBC,GAS7B,IARA,IAAIC,EAAQ,CAAC,CACXlB,IAAK,CACHmB,EAAGF,GAELG,KAAM,MAEJC,EAAO,GAEF5B,EAAI,EAAGA,EAAIyB,EAAMf,SAAUV,EAKlC,IAJA,IAAI6B,EAAOJ,EAAMzB,GACbO,EAAMsB,EAAKtB,IAAIsB,EAAKF,MACpBZ,EAAOtB,OAAOsB,KAAKR,GAEduB,EAAI,EAAGA,EAAIf,EAAKL,SAAUoB,EAAG,CACpC,IAAIZ,EAAMH,EAAKe,GACXC,EAAMxB,EAAIW,GAEK,iBAARa,GAA4B,OAARA,IAAuC,IAAvBH,EAAKI,QAAQD,KAC1DN,EAAMxB,KAAK,CACTM,IAAKA,EACLoB,KAAMT,IAERU,EAAK3B,KAAK8B,IAMhB,OA5MiB,SAAsBN,GACvC,KAAOA,EAAMf,OAAS,GAAG,CACvB,IAAImB,EAAOJ,EAAMQ,MACb1B,EAAMsB,EAAKtB,IAAIsB,EAAKF,MAExB,GAAI/B,EAAQW,GAAM,CAGhB,IAFA,IAAI2B,EAAY,GAEPJ,EAAI,EAAGA,EAAIvB,EAAIG,SAAUoB,OACV,IAAXvB,EAAIuB,IACbI,EAAUjC,KAAKM,EAAIuB,IAIvBD,EAAKtB,IAAIsB,EAAKF,MAAQO,IA6L1BC,CAAaV,GACND,GAwBPY,OAlIW,SAAgBC,EAAKC,EAASC,GACzC,IAAIC,EAAiBH,EAAII,QAAQ,MAAO,KAExC,GAAgB,eAAZF,EAEF,OAAOC,EAAeC,QAAQ,iBAAkBC,UAIlD,IACE,OAAOC,mBAAmBH,GAC1B,MAAOI,GACP,OAAOJ,IAuHTK,OAnHW,SAAgBR,EAAKS,EAAgBP,GAGhD,GAAmB,IAAfF,EAAI3B,OACN,OAAO2B,EAGT,IAAIU,EAASV,EAQb,GANmB,iBAARA,EACTU,EAASC,OAAOtD,UAAUQ,SAAS+C,KAAKZ,GAChB,iBAARA,IAChBU,EAASG,OAAOb,IAGF,eAAZE,EACF,OAAOY,OAAOJ,GAAQN,QAAQ,mBAAmB,SAAUW,GACzD,MAAO,SAAWC,SAASD,EAAGE,MAAM,GAAI,IAAM,SAMlD,IAFA,IAAIC,EAAM,GAEDvD,EAAI,EAAGA,EAAI+C,EAAOrC,SAAUV,EAAG,CACtC,IAAIwD,EAAIT,EAAOU,WAAWzD,GAEhB,KAANwD,GACK,KAANA,GACM,KAANA,GACM,MAANA,GACAA,GAAK,IAAQA,GAAK,IAClBA,GAAK,IAAQA,GAAK,IAClBA,GAAK,IAAQA,GAAK,IAEjBD,GAAOR,EAAOW,OAAO1D,GAIrBwD,EAAI,IACND,GAAYzD,EAAS0D,GAInBA,EAAI,KACND,GAAazD,EAAS,IAAO0D,GAAK,GAAK1D,EAAS,IAAW,GAAJ0D,GAIrDA,EAAI,OAAUA,GAAK,MACrBD,GAAazD,EAAS,IAAO0D,GAAK,IAAM1D,EAAS,IAAO0D,GAAK,EAAI,IAAQ1D,EAAS,IAAW,GAAJ0D,IAI3FxD,GAAK,EACLwD,EAAI,QAAgB,KAAJA,IAAc,GAA4B,KAAvBT,EAAOU,WAAWzD,IACrDuD,GAAOzD,EAAS,IAAO0D,GAAK,IAAM1D,EAAS,IAAO0D,GAAK,GAAK,IAAQ1D,EAAS,IAAO0D,GAAK,EAAI,IAAQ1D,EAAS,IAAW,GAAJ0D,IAGvH,OAAOD,GA0DPI,SAnBa,SAAkBpD,GAC/B,SAAKA,GAAsB,iBAARA,OAITA,EAAIqD,aAAerD,EAAIqD,YAAYD,UAAYpD,EAAIqD,YAAYD,SAASpD,KAelFsD,SAxBa,SAAkBtD,GAC/B,MAA+C,oBAAxCd,OAAOC,UAAUQ,SAAS+C,KAAK1C,IAwBtCuD,MAzMU,SAASA,EAAMhD,EAAQT,EAAQC,GAEzC,IAAKD,EACH,OAAOS,EAGT,GAAsB,iBAAXT,EAAqB,CAC9B,GAAIT,EAAQkB,GACVA,EAAOb,KAAKI,OACP,KAAIS,GAA4B,iBAAXA,EAK1B,MAAO,CAACA,EAAQT,IAJZC,IAAYA,EAAQE,cAAgBF,EAAQyD,mBAAqBvE,EAAIyD,KAAKxD,OAAOC,UAAWW,MAC9FS,EAAOT,IAAU,GAMrB,OAAOS,EAGT,IAAKA,GAA4B,iBAAXA,EACpB,MAAO,CAACA,GAAQQ,OAAOjB,GAGzB,IAAI2D,EAAclD,EAMlB,OAJIlB,EAAQkB,KAAYlB,EAAQS,KAC9B2D,EAAc5D,EAAcU,EAAQR,IAGlCV,EAAQkB,IAAWlB,EAAQS,IAC7BA,EAAO4D,SAAQ,SAAUpC,EAAM7B,GAC7B,GAAIR,EAAIyD,KAAKnC,EAAQd,GAAI,CACvB,IAAIkE,EAAapD,EAAOd,GAEpBkE,GAAoC,iBAAfA,GAA2BrC,GAAwB,iBAATA,EACjEf,EAAOd,GAAK8D,EAAMI,EAAYrC,EAAMvB,GAEpCQ,EAAOb,KAAK4B,QAGdf,EAAOd,GAAK6B,KAGTf,GAGFrB,OAAOsB,KAAKV,GAAQW,QAAO,SAAUC,EAAKC,GAC/C,IAAIM,EAAQnB,EAAOa,GAQnB,OANI1B,EAAIyD,KAAKhC,EAAKC,GAChBD,EAAIC,GAAO4C,EAAM7C,EAAIC,GAAMM,EAAOlB,GAElCW,EAAIC,GAAOM,EAGNP,IACN+C,M,uRC1FL,IAAMG,EAAiBC,aACrB,cAAGC,IAAH,IAAWC,EAAX,8BAAuB,kBAAC,IAASA,MADf,+EAAGF,CAAH,wPAWJG,IAAMC,gBACHC,IAAcC,GAK7B,qBAAGL,KAEHM,IAAUC,EADP,QAMDC,EAAmBT,IAAOU,OAAV,iFAAGV,CAAH,oNAUTG,IAAMQ,kBAIbC,EAAYZ,YAAOa,KAAV,0EAAGb,CAAH,6YAmBTc,EAA2Bd,IAAOe,WAAV,yFAAGf,CAAH,2JAOfgB,IAAKC,KAAKX,GAOnBY,EAAalB,IAAOmB,IAAV,2EAAGnB,CAAH,+FAEDgB,IAAKC,KAAKG,IASnBC,EAAkBrB,IAAOsB,OAAV,gFAAGtB,CAAH,6KAEJgB,IAAKO,OAAOC,MA2FdC,IAtEmB,SAAC,GAM7B,IALJC,EAKI,EALJA,KACAC,EAII,EAJJA,SACA1B,EAGI,EAHJA,IACA2B,EAEI,EAFJA,YACAC,EACI,EADJA,UAEA,OACE,kBAAC9B,EAAD,CACE+B,GAAIJ,EAAKK,KACT9B,IAAKA,EACL+B,MACE,CACEC,WAAYL,EACRF,EAAKQ,MAAMC,OAAOC,YAClBT,GAAYD,EAAKQ,MAAMC,OAAOE,WAClCC,MAAOZ,EAAKQ,MAAMC,OAAOC,YACzB,kBAAmBV,EAAKQ,MAAMC,OAAOI,QACrC,oBAAqBb,EAAKQ,MAAMC,OAAOC,YACvC,qBAAsBT,GAAYD,EAAKQ,MAAMC,OAAOK,MACpD,iBAAkBd,EAAKe,YAAc,KAAO,KAAKC,QAAQ,IAG7Db,UAAWA,EACXc,MAAUjB,EAAKiB,MAAV,OAAsBjB,EAAKkB,QAEhC,kBAACnC,EAAD,KACE,kBAACG,EAAD,CACEiC,MACE5C,EACI,CAAC,OAAD,UAEOyB,EAAKQ,MAAMY,gBAAgBC,KAFlC,CAGIC,MAAO,gBAAeC,IAAW3C,EAAI,GAAhC,QAHT,iBAMOoB,EAAKQ,MAAMY,gBAAgBI,KANlC,CAOIF,MAAO,eAAeC,IAAW3C,EAA5B,SAGToB,EAAKQ,MAAMY,gBAAgBC,KAEjCI,gBAAiBzB,EAAKQ,MAAMC,OAAOK,QAErC,kBAAC1B,EAAD,KACE,8BACGY,EAAKiB,MADR,OACmBjB,EAAKkB,WAI1BhB,IAAgBF,EAAK0B,SAAW1B,EAAK2B,QACrC,kBAACnC,EAAD,KACGQ,EAAK2B,OACJ,kBAAChC,EAAD,CACEiC,QAAS,SAAC9E,GACRA,EAAE+E,iBACFC,YAAS9B,EAAK2B,MAAMtB,QAHxB,eAOE,kBAAC,IAAD,OAGHL,EAAK0B,SAAW,kBAAC,IAAD,CAAYK,IAAK/B,EAAK0B,c,oCCvLlC,SAASM,EAA8BzH,EAAQ0H,GAC5D,GAAc,MAAV1H,EAAgB,MAAO,GAC3B,IAEIa,EAAKlB,EAFLc,EAAS,GACTkH,EAAavI,OAAOsB,KAAKV,GAG7B,IAAKL,EAAI,EAAGA,EAAIgI,EAAWtH,OAAQV,IACjCkB,EAAM8G,EAAWhI,GACb+H,EAAS/F,QAAQd,IAAQ,IAC7BJ,EAAOI,GAAOb,EAAOa,IAGvB,OAAOJ,EAZT,mC,kCCEA,IAAImH,EAAQ,EAAQ,QAEhBC,EAAU,EAAQ,QAElB1I,EAAMC,OAAOC,UAAUC,eACvBwI,EAAwB,CAC1BC,SAAU,SAAkBC,GAC1B,OAAOA,EAAS,MAElBC,MAAO,QACPC,QAAS,SAAiBF,EAAQnH,GAChC,OAAOmH,EAAS,IAAMnH,EAAM,KAE9BsH,OAAQ,SAAgBH,GACtB,OAAOA,IAGPzI,EAAUC,MAAMD,QAChBK,EAAOJ,MAAMH,UAAUO,KAEvBwI,EAAc,SAAqBC,EAAKC,GAC1C1I,EAAK2I,MAAMF,EAAK9I,EAAQ+I,GAAgBA,EAAe,CAACA,KAGtDE,EAAQC,KAAKpJ,UAAUqJ,YACvBC,EAAgBd,EAAiB,QACjCe,EAAW,CACbC,gBAAgB,EAChBC,WAAW,EACX5G,QAAS,QACT6G,iBAAiB,EACjBC,UAAW,IACXxG,QAAQ,EACRyG,QAASrB,EAAMpF,OACf0G,kBAAkB,EAClBC,OAAQR,EACRS,UAAWvB,EAAQwB,WAAWV,GAE9BT,SAAS,EACToB,cAAe,SAAuBC,GACpC,OAAOf,EAAM5F,KAAK2G,IAEpBC,WAAW,EACXC,oBAAoB,GAOlBC,EAAY,SAASA,EAAUC,EAAQ3B,EAAQ4B,EAAqBH,EAAoBD,EAAWP,EAASY,EAAQC,EAAMhB,EAAWQ,EAAeF,EAAWF,EAAkBhH,GACnL,IALyD6H,EAKrD7J,EAAMyJ,EAUV,GARsB,mBAAXE,EACT3J,EAAM2J,EAAO7B,EAAQ9H,GACZA,aAAeuI,KACxBvI,EAAMoJ,EAAcpJ,GACa,UAAxB0J,GAAmCrK,EAAQW,KACpDA,EAAMA,EAAI8J,KAAK,MAGL,OAAR9J,EAAc,CAChB,GAAIuJ,EACF,OAAOR,IAAYC,EAAmBD,EAAQjB,EAAQY,EAASK,QAAS/G,EAAS,OAAS8F,EAG5F9H,EAAM,GAGR,GAtBoB,iBADqC6J,EAuB/B7J,IAtBmB,iBAAN6J,GAA+B,kBAANA,GAAgC,iBAANA,GAA+B,iBAANA,GAsBjFnC,EAAMtE,SAASpD,GAC/C,OAAI+I,EAEK,CAACG,EADOF,EAAmBlB,EAASiB,EAAQjB,EAAQY,EAASK,QAAS/G,EAAS,QACxD,IAAMkH,EAAUH,EAAQ/I,EAAK0I,EAASK,QAAS/G,EAAS,WAGjF,CAACkH,EAAUpB,GAAU,IAAMoB,EAAUvG,OAAO3C,KAGrD,IAMI+J,EANAC,EAAS,GAEb,QAAmB,IAARhK,EACT,OAAOgK,EAKT,GAAI3K,EAAQsK,GACVI,EAAUJ,MACL,CACL,IAAInJ,EAAOtB,OAAOsB,KAAKR,GACvB+J,EAAUH,EAAOpJ,EAAKoJ,KAAKA,GAAQpJ,EAGrC,IAAK,IAAIf,EAAI,EAAGA,EAAIsK,EAAQ5J,SAAUV,EAAG,CACvC,IAAIkB,EAAMoJ,EAAQtK,GAEd6J,GAA0B,OAAbtJ,EAAIW,KAIjBtB,EAAQW,GACVkI,EAAY8B,EAAQR,EAAUxJ,EAAIW,GAAqC,mBAAxB+I,EAAqCA,EAAoB5B,EAAQnH,GAAOmH,EAAQ4B,EAAqBH,EAAoBD,EAAWP,EAASY,EAAQC,EAAMhB,EAAWQ,EAAeF,EAAWF,EAAkBhH,IAEjQkG,EAAY8B,EAAQR,EAAUxJ,EAAIW,GAAMmH,GAAUc,EAAY,IAAMjI,EAAM,IAAMA,EAAM,KAAM+I,EAAqBH,EAAoBD,EAAWP,EAASY,EAAQC,EAAMhB,EAAWQ,EAAeF,EAAWF,EAAkBhH,KAIlO,OAAOgI,GAqDT5J,EAAOC,QAAU,SAAUoJ,EAAQQ,GACjC,IAEIF,EAFA/J,EAAMyJ,EACN1J,EApD0B,SAAmCkK,GACjE,IAAKA,EACH,OAAOvB,EAGT,GAAqB,OAAjBuB,EAAKlB,cAAqCmB,IAAjBD,EAAKlB,SAAiD,mBAAjBkB,EAAKlB,QACrE,MAAM,IAAIoB,UAAU,iCAGtB,IAAInI,EAAUiI,EAAKjI,SAAW0G,EAAS1G,QAEvC,QAA4B,IAAjBiI,EAAKjI,SAA4C,UAAjBiI,EAAKjI,SAAwC,eAAjBiI,EAAKjI,QAC1E,MAAM,IAAImI,UAAU,qEAGtB,IAAIlB,EAAStB,EAAiB,QAE9B,QAA2B,IAAhBsC,EAAKhB,OAAwB,CACtC,IAAKhK,EAAIyD,KAAKiF,EAAQwB,WAAYc,EAAKhB,QACrC,MAAM,IAAIkB,UAAU,mCAGtBlB,EAASgB,EAAKhB,OAGhB,IAAIC,EAAYvB,EAAQwB,WAAWF,GAC/BU,EAASjB,EAASiB,OAMtB,OAJ2B,mBAAhBM,EAAKN,QAAyBtK,EAAQ4K,EAAKN,WACpDA,EAASM,EAAKN,QAGT,CACLhB,eAA+C,kBAAxBsB,EAAKtB,eAA+BsB,EAAKtB,eAAiBD,EAASC,eAC1FC,eAAqC,IAAnBqB,EAAKrB,UAA4BF,EAASE,YAAcqB,EAAKrB,UAC/E5G,QAASA,EACT6G,gBAAiD,kBAAzBoB,EAAKpB,gBAAgCoB,EAAKpB,gBAAkBH,EAASG,gBAC7FC,eAAqC,IAAnBmB,EAAKnB,UAA4BJ,EAASI,UAAYmB,EAAKnB,UAC7ExG,OAA+B,kBAAhB2H,EAAK3H,OAAuB2H,EAAK3H,OAASoG,EAASpG,OAClEyG,QAAiC,mBAAjBkB,EAAKlB,QAAyBkB,EAAKlB,QAAUL,EAASK,QACtEC,iBAAmD,kBAA1BiB,EAAKjB,iBAAiCiB,EAAKjB,iBAAmBN,EAASM,iBAChGW,OAAQA,EACRT,UAAWA,EACXE,cAA6C,mBAAvBa,EAAKb,cAA+Ba,EAAKb,cAAgBV,EAASU,cACxFE,UAAqC,kBAAnBW,EAAKX,UAA0BW,EAAKX,UAAYZ,EAASY,UAC3EM,KAA2B,mBAAdK,EAAKL,KAAsBK,EAAKL,KAAO,KACpDL,mBAAuD,kBAA5BU,EAAKV,mBAAmCU,EAAKV,mBAAqBb,EAASa,oBAM1Fa,CAA0BH,GAIV,mBAAnBlK,EAAQ4J,OAEjB3J,GADA2J,EAAS5J,EAAQ4J,QACJ,GAAI3J,GACRX,EAAQU,EAAQ4J,UAEzBI,EADShK,EAAQ4J,QAInB,IAMIU,EANA7J,EAAO,GAEX,GAAmB,iBAARR,GAA4B,OAARA,EAC7B,MAAO,GAMPqK,EADEJ,GAAQA,EAAKI,eAAezC,EAChBqC,EAAKI,YACVJ,GAAQ,YAAaA,EAChBA,EAAKjC,QAAU,UAAY,SAE3B,UAGhB,IAAI0B,EAAsB9B,EAAsByC,GAE3CN,IACHA,EAAU7K,OAAOsB,KAAKR,IAGpBD,EAAQ6J,MACVG,EAAQH,KAAK7J,EAAQ6J,MAGvB,IAAK,IAAInK,EAAI,EAAGA,EAAIsK,EAAQ5J,SAAUV,EAAG,CACvC,IAAIkB,EAAMoJ,EAAQtK,GAEdM,EAAQuJ,WAA0B,OAAbtJ,EAAIW,IAI7BuH,EAAY1H,EAAMgJ,EAAUxJ,EAAIW,GAAMA,EAAK+I,EAAqB3J,EAAQwJ,mBAAoBxJ,EAAQuJ,UAAWvJ,EAAQuC,OAASvC,EAAQgJ,QAAU,KAAMhJ,EAAQ4J,OAAQ5J,EAAQ6J,KAAM7J,EAAQ6I,UAAW7I,EAAQqJ,cAAerJ,EAAQmJ,UAAWnJ,EAAQiJ,iBAAkBjJ,EAAQiC,UAGvR,IAAIsI,EAAS9J,EAAKsJ,KAAK/J,EAAQ+I,WAC3BhB,GAAoC,IAA3B/H,EAAQ4I,eAA0B,IAAM,GAYrD,OAVI5I,EAAQ8I,kBACc,eAApB9I,EAAQiC,QAEV8F,GAAU,uBAGVA,GAAU,mBAIPwC,EAAOnK,OAAS,EAAI2H,EAASwC,EAAS,K,kCC/N/C,IAAId,EAAY,EAAQ,QAEpBe,EAAQ,EAAQ,QAEhB5C,EAAU,EAAQ,QAEtBvH,EAAOC,QAAU,CACfsH,QAASA,EACT4C,MAAOA,EACPf,UAAWA,I,kCCTb,oEAAO,IAiBMgB,EAAY,SAACC,GAAD,OACvBA,EACGvI,QAAQ,sBAAuB,KAC/BA,QAAQ,cAAe,IACvBA,QAAQ,OAAQ,KAChBwI,QAEQC,EAAqB,SAACC,GAAD,OAChCA,EAAQhB,MAAK,SAAC/I,EAAGC,GAAJ,OAAWD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,O,kCCzBnD,IAAI4G,EAAQ,EAAQ,QAEhBzI,EAAMC,OAAOC,UAAUC,eACvBC,EAAUC,MAAMD,QAChBqJ,EAAW,CACbE,WAAW,EACXpF,iBAAiB,EACjBqH,WAAY,GACZ7I,QAAS,QACT6G,iBAAiB,EACjBd,OAAO,EACPhG,QAAS2F,EAAM7F,OACfiH,UAAW,IACXgC,MAAO,EACPC,mBAAmB,EACnBC,0BAA0B,EAC1BC,eAAgB,IAChBC,aAAa,EACbjL,cAAc,EACdsJ,oBAAoB,GAGlByB,EAA2B,SAAkClJ,GAC/D,OAAOA,EAAII,QAAQ,aAAa,SAAUW,EAAIsI,GAC5C,OAAOxI,OAAOyI,aAAatI,SAASqI,EAAW,SA+G/CE,EAAY,SAA8BC,EAAU9J,EAAKzB,GAC3D,GAAKuL,EAAL,CAKA,IAAI3K,EAAMZ,EAAQ6I,UAAY0C,EAASpJ,QAAQ,cAAe,QAAUoJ,EAGpEC,EAAQ,gBAERC,EAAUzL,EAAQ+K,MAAQ,GAHf,eAG6BW,KAAK9K,GAC7C+K,EAASF,EAAU7K,EAAIoC,MAAM,EAAGyI,EAAQG,OAAShL,EAEjDH,EAAO,GAEX,GAAIkL,EAAQ,CAEV,IAAK3L,EAAQE,cAAgBhB,EAAIyD,KAAKxD,OAAOC,UAAWuM,KACjD3L,EAAQyD,gBACX,OAIJhD,EAAKd,KAAKgM,GAMZ,IAFA,IAAIjM,EAAI,EAEDM,EAAQ+K,MAAQ,GAAqC,QAA/BU,EAAUD,EAAME,KAAK9K,KAAkBlB,EAAIM,EAAQ+K,OAAO,CAGrF,GAFArL,GAAK,GAEAM,EAAQE,cAAgBhB,EAAIyD,KAAKxD,OAAOC,UAAWqM,EAAQ,GAAGzI,MAAM,GAAI,MACtEhD,EAAQyD,gBACX,OAIJhD,EAAKd,KAAK8L,EAAQ,IAQpB,OAJIA,GACFhL,EAAKd,KAAK,IAAMiB,EAAIoC,MAAMyI,EAAQG,OAAS,KA5E7B,SAAqBC,EAAOpK,EAAKzB,GAGjD,IAFA,IAAI8L,EAAOrK,EAEF/B,EAAImM,EAAMzL,OAAS,EAAGV,GAAK,IAAKA,EAAG,CAC1C,IAAIO,EACA8L,EAAOF,EAAMnM,GAEjB,GAAa,OAATqM,GAAiB/L,EAAQmL,YAC3BlL,EAAM,GAAGe,OAAO8K,OACX,CACL7L,EAAMD,EAAQE,aAAef,OAAOgB,OAAO,MAAQ,GACnD,IAAI6L,EAA+B,MAAnBD,EAAK3I,OAAO,IAA+C,MAAjC2I,EAAK3I,OAAO2I,EAAK3L,OAAS,GAAa2L,EAAK/I,MAAM,GAAI,GAAK+I,EACjGH,EAAQ7I,SAASiJ,EAAW,IAE3BhM,EAAQmL,aAA6B,KAAda,GAIhBC,MAAML,IAAUG,IAASC,GAAapJ,OAAOgJ,KAAWI,GAAaJ,GAAS,GAAK5L,EAAQmL,aAAeS,GAAS5L,EAAQ8K,YACrI7K,EAAM,IACF2L,GAASE,EAEb7L,EAAI+L,GAAaF,EAPjB7L,EAAM,CACJiM,EAAGJ,GAUTA,EAAO7L,EAGT,OAAO6L,EAkDAK,CAAY1L,EAAMgB,EAAKzB,KAqChCK,EAAOC,QAAU,SAAUyB,EAAKmI,GAC9B,IAAIlK,EAnCsB,SAA+BkK,GACzD,IAAKA,EACH,OAAOvB,EAGT,GAAqB,OAAjBuB,EAAKlI,cAAqCmI,IAAjBD,EAAKlI,SAAiD,mBAAjBkI,EAAKlI,QACrE,MAAM,IAAIoI,UAAU,iCAGtB,QAA4B,IAAjBF,EAAKjI,SAA4C,UAAjBiI,EAAKjI,SAAwC,eAAjBiI,EAAKjI,QAC1E,MAAM,IAAImK,MAAM,qEAGlB,IAAInK,OAAkC,IAAjBiI,EAAKjI,QAA0B0G,EAAS1G,QAAUiI,EAAKjI,QAC5E,MAAO,CACL4G,eAAqC,IAAnBqB,EAAKrB,UAA4BF,EAASE,YAAcqB,EAAKrB,UAC/EpF,gBAAiD,kBAAzByG,EAAKzG,gBAAgCyG,EAAKzG,gBAAkBkF,EAASlF,gBAC7FqH,WAAuC,iBAApBZ,EAAKY,WAA0BZ,EAAKY,WAAanC,EAASmC,WAC7E7I,QAASA,EACT6G,gBAAiD,kBAAzBoB,EAAKpB,gBAAgCoB,EAAKpB,gBAAkBH,EAASG,gBAC7Fd,MAA6B,kBAAfkC,EAAKlC,MAAsBkC,EAAKlC,MAAQW,EAASX,MAC/DhG,QAAiC,mBAAjBkI,EAAKlI,QAAyBkI,EAAKlI,QAAU2G,EAAS3G,QACtE+G,UAAqC,iBAAnBmB,EAAKnB,WAA0BpB,EAAMpE,SAAS2G,EAAKnB,WAAamB,EAAKnB,UAAYJ,EAASI,UAE5GgC,MAA6B,iBAAfb,EAAKa,QAAqC,IAAfb,EAAKa,OAAmBb,EAAKa,MAAQpC,EAASoC,MACvFC,mBAA8C,IAA3Bd,EAAKc,kBACxBC,yBAAmE,kBAAlCf,EAAKe,yBAAyCf,EAAKe,yBAA2BtC,EAASsC,yBACxHC,eAA+C,iBAAxBhB,EAAKgB,eAA8BhB,EAAKgB,eAAiBvC,EAASuC,eACzFC,aAAkC,IAArBjB,EAAKiB,YAClBjL,aAA2C,kBAAtBgK,EAAKhK,aAA6BgK,EAAKhK,aAAeyI,EAASzI,aACpFsJ,mBAAuD,kBAA5BU,EAAKV,mBAAmCU,EAAKV,mBAAqBb,EAASa,oBAK1F6C,CAAsBnC,GAEpC,GAAY,KAARnI,SAAcA,EAChB,OAAO/B,EAAQE,aAAef,OAAOgB,OAAO,MAAQ,GAQtD,IALA,IAAImM,EAAyB,iBAARvK,EA5LL,SAAgCA,EAAK/B,GACrD,IAMIN,EANAO,EAAM,GACNsM,EAAWvM,EAAQgL,kBAAoBjJ,EAAII,QAAQ,MAAO,IAAMJ,EAChEyK,EAAQxM,EAAQkL,iBAAmBuB,SAAWtC,EAAYnK,EAAQkL,eAClEwB,EAAQH,EAASI,MAAM3M,EAAQ+I,UAAWyD,GAC1CI,GAAa,EAGb3K,EAAUjC,EAAQiC,QAEtB,GAAIjC,EAAQ8I,gBACV,IAAKpJ,EAAI,EAAGA,EAAIgN,EAAMtM,SAAUV,EACI,IAA9BgN,EAAMhN,GAAGgC,QAAQ,WAdL,mBAeVgL,EAAMhN,GACRuC,EAAU,QAnBF,wBAoBCyK,EAAMhN,KACfuC,EAAU,cAGZ2K,EAAYlN,EACZA,EAAIgN,EAAMtM,QAKhB,IAAKV,EAAI,EAAGA,EAAIgN,EAAMtM,SAAUV,EAC9B,GAAIA,IAAMkN,EAAV,CAIA,IAGIhM,EAAKa,EAHLoL,EAAOH,EAAMhN,GACboN,EAAmBD,EAAKnL,QAAQ,MAChCqL,GAA4B,IAAtBD,EAA0BD,EAAKnL,QAAQ,KAAOoL,EAAmB,GAG9D,IAATC,GACFnM,EAAMZ,EAAQgC,QAAQ6K,EAAMlE,EAAS3G,QAASC,EAAS,OACvDR,EAAMzB,EAAQwJ,mBAAqB,KAAO,KAE1C5I,EAAMZ,EAAQgC,QAAQ6K,EAAK7J,MAAM,EAAG+J,GAAMpE,EAAS3G,QAASC,EAAS,OACrER,EAAMzB,EAAQgC,QAAQ6K,EAAK7J,MAAM+J,EAAM,GAAIpE,EAAS3G,QAASC,EAAS,UAGpER,GAAOzB,EAAQiL,0BAAwC,eAAZhJ,IAC7CR,EAAMwJ,EAAyBxJ,IAG7BA,GAAsB,iBAARA,GAAoBzB,EAAQgI,OAASvG,EAAIC,QAAQ,MAAQ,IACzED,EAAMA,EAAIkL,MAAM,MAGdE,EAAKnL,QAAQ,QAAU,IACzBD,EAAMnC,EAAQmC,GAAO,CAACA,GAAOA,GAG3BvC,EAAIyD,KAAK1C,EAAKW,GAChBX,EAAIW,GAAO+G,EAAM9G,QAAQZ,EAAIW,GAAMa,GAEnCxB,EAAIW,GAAOa,EAIf,OAAOxB,EA8HiC+M,CAAYjL,EAAK/B,GAAW+B,EAChE9B,EAAMD,EAAQE,aAAef,OAAOgB,OAAO,MAAQ,GAEnDM,EAAOtB,OAAOsB,KAAK6L,GAEd5M,EAAI,EAAGA,EAAIe,EAAKL,SAAUV,EAAG,CACpC,IAAIkB,EAAMH,EAAKf,GACXuN,EAAS3B,EAAU1K,EAAK0L,EAAQ1L,GAAMZ,GAC1CC,EAAM0H,EAAMnE,MAAMvD,EAAKgN,EAAQjN,GAGjC,OAAO2H,EAAM1G,QAAQhB,K,kCC7OvB,IAAIkC,EAAUS,OAAOxD,UAAU+C,QAC3B+K,EAAkB,OAElBC,EAAO,EAAQ,QAEfC,EAAS,CACXC,QAAS,UACTC,QAAS,WAEXjN,EAAOC,QAAU6M,EAAK5M,OAAO,CAC3B,QAAW6M,EAAOE,QAClBlE,WAAY,CACViE,QAAS,SAAiBnM,GACxB,OAAOiB,EAAQQ,KAAKzB,EAAOgM,EAAiB,MAE9CI,QAAS,SAAiBpM,GACxB,OAAO0B,OAAO1B,MAGjBkM","file":"3a0fc3944775c792cc9a2b651752b063b2b68ad1-9c40f0c6454f0b74166b.js","sourcesContent":["'use strict';\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = function () {\n  var array = [];\n\n  for (var i = 0; i < 256; ++i) {\n    array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n  }\n\n  return array;\n}();\n\nvar compactQueue = function compactQueue(queue) {\n  while (queue.length > 1) {\n    var item = queue.pop();\n    var obj = item.obj[item.prop];\n\n    if (isArray(obj)) {\n      var compacted = [];\n\n      for (var j = 0; j < obj.length; ++j) {\n        if (typeof obj[j] !== 'undefined') {\n          compacted.push(obj[j]);\n        }\n      }\n\n      item.obj[item.prop] = compacted;\n    }\n  }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n  var obj = options && options.plainObjects ? Object.create(null) : {};\n\n  for (var i = 0; i < source.length; ++i) {\n    if (typeof source[i] !== 'undefined') {\n      obj[i] = source[i];\n    }\n  }\n\n  return obj;\n};\n\nvar merge = function merge(target, source, options) {\n  /* eslint no-param-reassign: 0 */\n  if (!source) {\n    return target;\n  }\n\n  if (typeof source !== 'object') {\n    if (isArray(target)) {\n      target.push(source);\n    } else if (target && typeof target === 'object') {\n      if (options && (options.plainObjects || options.allowPrototypes) || !has.call(Object.prototype, source)) {\n        target[source] = true;\n      }\n    } else {\n      return [target, source];\n    }\n\n    return target;\n  }\n\n  if (!target || typeof target !== 'object') {\n    return [target].concat(source);\n  }\n\n  var mergeTarget = target;\n\n  if (isArray(target) && !isArray(source)) {\n    mergeTarget = arrayToObject(target, options);\n  }\n\n  if (isArray(target) && isArray(source)) {\n    source.forEach(function (item, i) {\n      if (has.call(target, i)) {\n        var targetItem = target[i];\n\n        if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n          target[i] = merge(targetItem, item, options);\n        } else {\n          target.push(item);\n        }\n      } else {\n        target[i] = item;\n      }\n    });\n    return target;\n  }\n\n  return Object.keys(source).reduce(function (acc, key) {\n    var value = source[key];\n\n    if (has.call(acc, key)) {\n      acc[key] = merge(acc[key], value, options);\n    } else {\n      acc[key] = value;\n    }\n\n    return acc;\n  }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n  return Object.keys(source).reduce(function (acc, key) {\n    acc[key] = source[key];\n    return acc;\n  }, target);\n};\n\nvar decode = function decode(str, decoder, charset) {\n  var strWithoutPlus = str.replace(/\\+/g, ' ');\n\n  if (charset === 'iso-8859-1') {\n    // unescape never throws, no try...catch needed:\n    return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n  } // utf-8\n\n\n  try {\n    return decodeURIComponent(strWithoutPlus);\n  } catch (e) {\n    return strWithoutPlus;\n  }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n  // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n  // It has been adapted here for stricter adherence to RFC 3986\n  if (str.length === 0) {\n    return str;\n  }\n\n  var string = str;\n\n  if (typeof str === 'symbol') {\n    string = Symbol.prototype.toString.call(str);\n  } else if (typeof str !== 'string') {\n    string = String(str);\n  }\n\n  if (charset === 'iso-8859-1') {\n    return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n      return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n    });\n  }\n\n  var out = '';\n\n  for (var i = 0; i < string.length; ++i) {\n    var c = string.charCodeAt(i);\n\n    if (c === 0x2D // -\n    || c === 0x2E // .\n    || c === 0x5F // _\n    || c === 0x7E // ~\n    || c >= 0x30 && c <= 0x39 // 0-9\n    || c >= 0x41 && c <= 0x5A // a-z\n    || c >= 0x61 && c <= 0x7A // A-Z\n    ) {\n        out += string.charAt(i);\n        continue;\n      }\n\n    if (c < 0x80) {\n      out = out + hexTable[c];\n      continue;\n    }\n\n    if (c < 0x800) {\n      out = out + (hexTable[0xC0 | c >> 6] + hexTable[0x80 | c & 0x3F]);\n      continue;\n    }\n\n    if (c < 0xD800 || c >= 0xE000) {\n      out = out + (hexTable[0xE0 | c >> 12] + hexTable[0x80 | c >> 6 & 0x3F] + hexTable[0x80 | c & 0x3F]);\n      continue;\n    }\n\n    i += 1;\n    c = 0x10000 + ((c & 0x3FF) << 10 | string.charCodeAt(i) & 0x3FF);\n    out += hexTable[0xF0 | c >> 18] + hexTable[0x80 | c >> 12 & 0x3F] + hexTable[0x80 | c >> 6 & 0x3F] + hexTable[0x80 | c & 0x3F];\n  }\n\n  return out;\n};\n\nvar compact = function compact(value) {\n  var queue = [{\n    obj: {\n      o: value\n    },\n    prop: 'o'\n  }];\n  var refs = [];\n\n  for (var i = 0; i < queue.length; ++i) {\n    var item = queue[i];\n    var obj = item.obj[item.prop];\n    var keys = Object.keys(obj);\n\n    for (var j = 0; j < keys.length; ++j) {\n      var key = keys[j];\n      var val = obj[key];\n\n      if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n        queue.push({\n          obj: obj,\n          prop: key\n        });\n        refs.push(val);\n      }\n    }\n  }\n\n  compactQueue(queue);\n  return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n  return [].concat(a, b);\n};\n\nmodule.exports = {\n  arrayToObject: arrayToObject,\n  assign: assign,\n  combine: combine,\n  compact: compact,\n  decode: decode,\n  encode: encode,\n  isBuffer: isBuffer,\n  isRegExp: isRegExp,\n  merge: merge\n};","import React from 'react'\nimport styled, { SimpleInterpolation } from 'styled-components'\nimport { Link, navigate } from 'gatsby'\nimport Img from 'gatsby-image'\n\nimport { BookCardType } from 'types/book'\nimport StarRating from 'components/StarRating'\nimport ArrowIcon from 'components/icons/ArrowIcon'\nimport { FONT, COLOR, BORDER_RADIUS, BREAKPOINT } from 'styles/tokens'\nimport { screenMin } from 'styles/responsive'\n\ninterface BookCardProps {\n  big: boolean\n}\n\nconst StyledBookCard = styled(\n  ({ big, ...props }) => <Link {...props} /> // eslint-disable-line\n)<BookCardProps>`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  margin: 0;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  background: ${COLOR.BACKGROUND_DARK};\n  border-radius: ${BORDER_RADIUS.S};\n  outline: 0 !important;\n  --perspective: 800px;\n  --book-pages-color: #afbdbb;\n\n  ${({ big }): SimpleInterpolation =>\n    big &&\n    screenMin.m`\n    --perspective: 1600px;\n  `};\n`\n\nconst StyledImgWrapper = styled.figure`\n  max-width: 100%;\n  height: auto;\n  margin: 0.5em;\n  background: var(--book-pages-color);\n  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.1);\n  transform: scale(var(--book-scale));\n\n  *::selection {\n    background: var(--primary-color);\n    color: ${COLOR.BACKGROUND_LIGHT};\n  }\n`\n\nconst StyledImg = styled(Img)`\n  vertical-align: bottom;\n  transition: transform 0.3s ease-out;\n  transform-origin: 0 50%;\n  box-shadow: 0 0 0.3em rgba(0, 0, 0, 0.05);\n  transform: perspective(var(--perspective)) rotateY(0);\n\n  a:hover &,\n  a:focus & {\n    transition: transform 0.15s ease-out;\n    transform: perspective(var(--perspective)) rotateY(-30deg);\n  }\n\n  a:active & {\n    transition: transform 0.5s ease-out;\n    transform: perspective(var(--perspective)) rotateY(-80deg);\n  }\n`\n\nconst StyledAccessibilityTitle = styled.figcaption`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  font-size: ${FONT.SIZE.S};\n  color: transparent;\n  padding: 0.5em;\n  display: flex;\n  place-items: center;\n`\n\nconst StyledMeta = styled.div`\n  margin: 0 0 1em;\n  font-size: ${FONT.SIZE.XS};\n  line-height: 1;\n  text-align: center;\n\n  & > * + * {\n    margin-top: 0.25em;\n  }\n`\n\nconst StyledVideoLink = styled.button`\n  display: inline-block;\n  font-weight: ${FONT.WEIGHT.BOLD};\n  padding: 0.25em 0.5em;\n  transition: transform 150ms linear;\n\n  &:hover {\n    transform: translate(-0.1em, 0);\n  }\n\n  &::selection {\n    background: transparent;\n  }\n`\n\ninterface Props {\n  book: BookCardType\n  featured?: boolean\n  big?: boolean\n  hideDetails?: boolean\n  className?: string\n}\n\nconst BookCard: React.FC<Props> = ({\n  book,\n  featured,\n  big,\n  hideDetails,\n  className,\n}) => {\n  return (\n    <StyledBookCard\n      to={book.slug}\n      big={big}\n      style={\n        {\n          background: hideDetails\n            ? book.image.colors.darkVibrant\n            : featured && book.image.colors.lightMuted,\n          color: book.image.colors.darkVibrant,\n          '--primary-color': book.image.colors.vibrant,\n          '--secondary-color': book.image.colors.darkVibrant,\n          '--book-pages-color': featured && book.image.colors.muted,\n          '--book-scale': ((book.bookHeight || 198) / 220).toFixed(2),\n        } as object\n      }\n      className={className}\n      title={`${book.title} by ${book.author}`}\n    >\n      <StyledImgWrapper>\n        <StyledImg\n          fixed={\n            big\n              ? [\n                  {\n                    ...book.image.childImageSharp.h150,\n                    media: `(max-width: ${BREAKPOINT.S - 1}px)`,\n                  },\n                  {\n                    ...book.image.childImageSharp.h350,\n                    media: `(min-width: ${BREAKPOINT.S}px)`,\n                  },\n                ]\n              : book.image.childImageSharp.h150\n          }\n          backgroundColor={book.image.colors.muted}\n        />\n        <StyledAccessibilityTitle>\n          <span>\n            {book.title} by {book.author}\n          </span>\n        </StyledAccessibilityTitle>\n      </StyledImgWrapper>\n      {!hideDetails && (book.rating7 || book.video) && (\n        <StyledMeta>\n          {book.video && (\n            <StyledVideoLink\n              onClick={(e): void => {\n                e.preventDefault()\n                navigate(book.video.slug)\n              }}\n            >\n              Video review\n              <ArrowIcon />\n            </StyledVideoLink>\n          )}\n          {book.rating7 && <StarRating of7={book.rating7} />}\n        </StyledMeta>\n      )}\n    </StyledBookCard>\n  )\n}\n\nexport default BookCard\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","'use strict';\n\nvar utils = require('./utils');\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar arrayPrefixGenerators = {\n  brackets: function brackets(prefix) {\n    return prefix + '[]';\n  },\n  comma: 'comma',\n  indices: function indices(prefix, key) {\n    return prefix + '[' + key + ']';\n  },\n  repeat: function repeat(prefix) {\n    return prefix;\n  }\n};\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\n\nvar pushToArray = function pushToArray(arr, valueOrArray) {\n  push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\nvar defaultFormat = formats['default'];\nvar defaults = {\n  addQueryPrefix: false,\n  allowDots: false,\n  charset: 'utf-8',\n  charsetSentinel: false,\n  delimiter: '&',\n  encode: true,\n  encoder: utils.encode,\n  encodeValuesOnly: false,\n  format: defaultFormat,\n  formatter: formats.formatters[defaultFormat],\n  // deprecated\n  indices: false,\n  serializeDate: function serializeDate(date) {\n    return toISO.call(date);\n  },\n  skipNulls: false,\n  strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n  return typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean' || typeof v === 'symbol' || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset) {\n  var obj = object;\n\n  if (typeof filter === 'function') {\n    obj = filter(prefix, obj);\n  } else if (obj instanceof Date) {\n    obj = serializeDate(obj);\n  } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n    obj = obj.join(',');\n  }\n\n  if (obj === null) {\n    if (strictNullHandling) {\n      return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n    }\n\n    obj = '';\n  }\n\n  if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n    if (encoder) {\n      var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n      return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n    }\n\n    return [formatter(prefix) + '=' + formatter(String(obj))];\n  }\n\n  var values = [];\n\n  if (typeof obj === 'undefined') {\n    return values;\n  }\n\n  var objKeys;\n\n  if (isArray(filter)) {\n    objKeys = filter;\n  } else {\n    var keys = Object.keys(obj);\n    objKeys = sort ? keys.sort(sort) : keys;\n  }\n\n  for (var i = 0; i < objKeys.length; ++i) {\n    var key = objKeys[i];\n\n    if (skipNulls && obj[key] === null) {\n      continue;\n    }\n\n    if (isArray(obj)) {\n      pushToArray(values, stringify(obj[key], typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset));\n    } else {\n      pushToArray(values, stringify(obj[key], prefix + (allowDots ? '.' + key : '[' + key + ']'), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, formatter, encodeValuesOnly, charset));\n    }\n  }\n\n  return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n  if (!opts) {\n    return defaults;\n  }\n\n  if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n    throw new TypeError('Encoder has to be a function.');\n  }\n\n  var charset = opts.charset || defaults.charset;\n\n  if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n    throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n  }\n\n  var format = formats['default'];\n\n  if (typeof opts.format !== 'undefined') {\n    if (!has.call(formats.formatters, opts.format)) {\n      throw new TypeError('Unknown format option provided.');\n    }\n\n    format = opts.format;\n  }\n\n  var formatter = formats.formatters[format];\n  var filter = defaults.filter;\n\n  if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n    filter = opts.filter;\n  }\n\n  return {\n    addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n    allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n    charset: charset,\n    charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n    delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n    encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n    encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n    encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n    filter: filter,\n    formatter: formatter,\n    serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n    skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n    sort: typeof opts.sort === 'function' ? opts.sort : null,\n    strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n  };\n};\n\nmodule.exports = function (object, opts) {\n  var obj = object;\n  var options = normalizeStringifyOptions(opts);\n  var objKeys;\n  var filter;\n\n  if (typeof options.filter === 'function') {\n    filter = options.filter;\n    obj = filter('', obj);\n  } else if (isArray(options.filter)) {\n    filter = options.filter;\n    objKeys = filter;\n  }\n\n  var keys = [];\n\n  if (typeof obj !== 'object' || obj === null) {\n    return '';\n  }\n\n  var arrayFormat;\n\n  if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n    arrayFormat = opts.arrayFormat;\n  } else if (opts && 'indices' in opts) {\n    arrayFormat = opts.indices ? 'indices' : 'repeat';\n  } else {\n    arrayFormat = 'indices';\n  }\n\n  var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n  if (!objKeys) {\n    objKeys = Object.keys(obj);\n  }\n\n  if (options.sort) {\n    objKeys.sort(options.sort);\n  }\n\n  for (var i = 0; i < objKeys.length; ++i) {\n    var key = objKeys[i];\n\n    if (options.skipNulls && obj[key] === null) {\n      continue;\n    }\n\n    pushToArray(keys, stringify(obj[key], key, generateArrayPrefix, options.strictNullHandling, options.skipNulls, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.formatter, options.encodeValuesOnly, options.charset));\n  }\n\n  var joined = keys.join(options.delimiter);\n  var prefix = options.addQueryPrefix === true ? '?' : '';\n\n  if (options.charsetSentinel) {\n    if (options.charset === 'iso-8859-1') {\n      // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n      prefix += 'utf8=%26%2310003%3B&';\n    } else {\n      // encodeURIComponent('✓')\n      prefix += 'utf8=%E2%9C%93&';\n    }\n  }\n\n  return joined.length > 0 ? prefix + joined : '';\n};","'use strict';\n\nvar stringify = require('./stringify');\n\nvar parse = require('./parse');\n\nvar formats = require('./formats');\n\nmodule.exports = {\n  formats: formats,\n  parse: parse,\n  stringify: stringify\n};","import { Book } from 'types/book'\n\nexport const getBookDetailsFromString = (\n  text: string\n): Pick<Book, 'title' | 'author'> | undefined => {\n  const referenceMatch = text.match(/^(.+), (.+)$/)\n  return (\n    referenceMatch && {\n      title: referenceMatch[1],\n      author: referenceMatch[2],\n    }\n  )\n}\n\nexport const formatBookDetails = ({\n  title,\n  author,\n}: Pick<Book, 'title' | 'author'>): string => `${title} by ${author}`\n\nexport const stripHtml = (text: string): string =>\n  text\n    .replace(/<\\/[^>]+><[^>/]+>/gm, ' ')\n    .replace(/<\\/?[^>]+>/g, '')\n    .replace(/ +/gm, ' ')\n    .trim()\n\nexport const sortAlphabetically = (strings: string[]): string[] =>\n  strings.sort((a, b) => (a < b ? -1 : a > b ? 1 : 0))\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\nvar defaults = {\n  allowDots: false,\n  allowPrototypes: false,\n  arrayLimit: 20,\n  charset: 'utf-8',\n  charsetSentinel: false,\n  comma: false,\n  decoder: utils.decode,\n  delimiter: '&',\n  depth: 5,\n  ignoreQueryPrefix: false,\n  interpretNumericEntities: false,\n  parameterLimit: 1000,\n  parseArrays: true,\n  plainObjects: false,\n  strictNullHandling: false\n};\n\nvar interpretNumericEntities = function interpretNumericEntities(str) {\n  return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n    return String.fromCharCode(parseInt(numberStr, 10));\n  });\n}; // This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\n\n\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\n\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n  var obj = {};\n  var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n  var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n  var parts = cleanStr.split(options.delimiter, limit);\n  var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n\n  var i;\n  var charset = options.charset;\n\n  if (options.charsetSentinel) {\n    for (i = 0; i < parts.length; ++i) {\n      if (parts[i].indexOf('utf8=') === 0) {\n        if (parts[i] === charsetSentinel) {\n          charset = 'utf-8';\n        } else if (parts[i] === isoSentinel) {\n          charset = 'iso-8859-1';\n        }\n\n        skipIndex = i;\n        i = parts.length; // The eslint settings do not allow break;\n      }\n    }\n  }\n\n  for (i = 0; i < parts.length; ++i) {\n    if (i === skipIndex) {\n      continue;\n    }\n\n    var part = parts[i];\n    var bracketEqualsPos = part.indexOf(']=');\n    var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n    var key, val;\n\n    if (pos === -1) {\n      key = options.decoder(part, defaults.decoder, charset, 'key');\n      val = options.strictNullHandling ? null : '';\n    } else {\n      key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n      val = options.decoder(part.slice(pos + 1), defaults.decoder, charset, 'value');\n    }\n\n    if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n      val = interpretNumericEntities(val);\n    }\n\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n      val = val.split(',');\n    }\n\n    if (part.indexOf('[]=') > -1) {\n      val = isArray(val) ? [val] : val;\n    }\n\n    if (has.call(obj, key)) {\n      obj[key] = utils.combine(obj[key], val);\n    } else {\n      obj[key] = val;\n    }\n  }\n\n  return obj;\n};\n\nvar parseObject = function parseObject(chain, val, options) {\n  var leaf = val;\n\n  for (var i = chain.length - 1; i >= 0; --i) {\n    var obj;\n    var root = chain[i];\n\n    if (root === '[]' && options.parseArrays) {\n      obj = [].concat(leaf);\n    } else {\n      obj = options.plainObjects ? Object.create(null) : {};\n      var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n      var index = parseInt(cleanRoot, 10);\n\n      if (!options.parseArrays && cleanRoot === '') {\n        obj = {\n          0: leaf\n        };\n      } else if (!isNaN(index) && root !== cleanRoot && String(index) === cleanRoot && index >= 0 && options.parseArrays && index <= options.arrayLimit) {\n        obj = [];\n        obj[index] = leaf;\n      } else {\n        obj[cleanRoot] = leaf;\n      }\n    }\n\n    leaf = obj;\n  }\n\n  return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n  if (!givenKey) {\n    return;\n  } // Transform dot notation to bracket notation\n\n\n  var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey; // The regex chunks\n\n  var brackets = /(\\[[^[\\]]*])/;\n  var child = /(\\[[^[\\]]*])/g; // Get the parent\n\n  var segment = options.depth > 0 && brackets.exec(key);\n  var parent = segment ? key.slice(0, segment.index) : key; // Stash the parent if it exists\n\n  var keys = [];\n\n  if (parent) {\n    // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n    if (!options.plainObjects && has.call(Object.prototype, parent)) {\n      if (!options.allowPrototypes) {\n        return;\n      }\n    }\n\n    keys.push(parent);\n  } // Loop through children appending to the array until we hit depth\n\n\n  var i = 0;\n\n  while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n    i += 1;\n\n    if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n      if (!options.allowPrototypes) {\n        return;\n      }\n    }\n\n    keys.push(segment[1]);\n  } // If there's a remainder, just add whatever is left\n\n\n  if (segment) {\n    keys.push('[' + key.slice(segment.index) + ']');\n  }\n\n  return parseObject(keys, val, options);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n  if (!opts) {\n    return defaults;\n  }\n\n  if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n    throw new TypeError('Decoder has to be a function.');\n  }\n\n  if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n    throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n  }\n\n  var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n  return {\n    allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n    allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n    arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n    charset: charset,\n    charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n    comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n    decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n    delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n    // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n    depth: typeof opts.depth === 'number' || opts.depth === false ? +opts.depth : defaults.depth,\n    ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n    interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n    parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n    parseArrays: opts.parseArrays !== false,\n    plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n    strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n  };\n};\n\nmodule.exports = function (str, opts) {\n  var options = normalizeParseOptions(opts);\n\n  if (str === '' || str === null || typeof str === 'undefined') {\n    return options.plainObjects ? Object.create(null) : {};\n  }\n\n  var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n  var obj = options.plainObjects ? Object.create(null) : {}; // Iterate over the keys and setup the new object\n\n  var keys = Object.keys(tempObj);\n\n  for (var i = 0; i < keys.length; ++i) {\n    var key = keys[i];\n    var newObj = parseKeys(key, tempObj[key], options);\n    obj = utils.merge(obj, newObj, options);\n  }\n\n  return utils.compact(obj);\n};","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n  RFC1738: 'RFC1738',\n  RFC3986: 'RFC3986'\n};\nmodule.exports = util.assign({\n  'default': Format.RFC3986,\n  formatters: {\n    RFC1738: function RFC1738(value) {\n      return replace.call(value, percentTwenties, '+');\n    },\n    RFC3986: function RFC3986(value) {\n      return String(value);\n    }\n  }\n}, Format);"],"sourceRoot":""}