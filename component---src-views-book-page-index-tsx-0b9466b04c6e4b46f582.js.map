{"version":3,"sources":["webpack:///./node_modules/react-player/lib/players/YouTube.js","webpack:///./src/components/Reveal/index.tsx","webpack:///./src/utils/tracking/index.ts","webpack:///./src/components/RelatedBooks/index.tsx","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./src/utils/formatting/numbers.ts","webpack:///./src/views/BookPage/BookTitle.tsx","webpack:///./src/views/BookPage/BookImage.tsx","webpack:///./src/views/BookPage/BookReview.tsx","webpack:///./src/components/links/TagLink/index.tsx","webpack:///./src/views/BookPage/TagsList/index.tsx","webpack:///./src/views/BookPage/BookMeta.tsx","webpack:///./src/views/BookPage/index.tsx","webpack:///./node_modules/react-player/lib/singlePlayer.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/load-script/index.js","webpack:///./src/components/MarkdownWrapper/index.tsx","webpack:///./node_modules/deepmerge/dist/cjs.js","webpack:///./node_modules/react-player/lib/props.js","webpack:///./src/utils/formatting/text.ts","webpack:///./node_modules/core-js/modules/es6.object.define-properties.js","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./src/components/AspectRatioWrapper/index.tsx","webpack:///./src/utils/hooks/useWindowSize.ts","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./src/components/Reveal/RevealTrigger.tsx","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/dayjs/plugin/advancedFormat.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./src/utils/formatting/time.ts","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/react-player/lib/Player.js","webpack:///./node_modules/react-player/lib/utils.js","webpack:///./src/utils/tags/index.ts","webpack:///./src/utils/urls/affiliates.ts","webpack:///./src/components/BookAffiliates/index.tsx","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./src/components/icons/PlayIcon.tsx","webpack:///./src/components/cards/VideoCard/index.tsx"],"names":["Object","defineProperty","exports","value","YouTube","obj","_react","__esModule","_typeof","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_utils","_singlePlayer","WeakMap","Symbol","iterator","constructor","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_setPrototypeOf","p","_slicedToArray","arr","Array","isArray","_arrayWithHoles","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","_nonIterableRest","MATCH_URL","MATCH_PLAYLIST","parsePlaylist","url","test","listType","list","match","_Component","_getPrototypeOf2","_this","this","_len","args","_key","concat","callPlayer","_ref","data","_this$props","onPlay","onPause","onBuffer","onBufferEnd","onEnded","onReady","loop","_window$SDK_GLOBAL$Pl","window","PlayerState","PLAYING","PAUSED","BUFFERING","ENDED","CUED","isPlaylist","play","container","protoProps","staticProps","subClass","superClass","create","_inherits","isReady","_this2","_this$props2","playing","muted","playsinline","controls","config","_onError","onError","_config$youtube","youtube","playerVars","embedOptions","id","player","loadPlaylist","cueVideoById","videoId","startSeconds","parseStartTime","start","endSeconds","parseEndTime","end","getSDK","YT","loaded","then","Player","width","height","autoplay","mute","origin","location","events","setLoop","onStateChange","event","document","body","contains","amount","pause","fraction","rate","getDuration","style","display","createElement","ref","Component","_default","StyledContent","styled","div","isOpen","isTransitioning","Reveal","children","open","ariaId","className","as","useState","setIsOpen","setIsTransitioning","contentHeight","setContentHeight","contentEl","createRef","useEffect","current","clientHeight","setTimeout","aria-hidden","maxHeight","trackEvent","action","category","label","gtag","event_category","event_label","StyledWrapper","StyledTitleGridItem","GridItem","screenMin","m","StyledGrid","Grid","FONT","SIZE","S","screen","l","RelatedBooks","books","featuredSlugs","ownedSlug","full","size","map","book","featured","slug","includes","span","spanFromM","spanFromL","hideDetails","$export","toLength","context","$startsWith","P","F","startsWith","searchString","that","index","Math","min","search","String","slice","$pad","userAgent","WEBKIT_BUG","padStart","maxLength","toObject","toPrimitive","Date","NaN","toJSON","toISOString","O","pv","isFinite","formatNumberInThousands","number","split","reverse","join","replace","formatViewCount","floor","shortFormatNumber","StyledTitle","H","StyledSubtitle","StyledAuthor","BookTitle","title","subtitle","author","rating7","decorative","StarRating","of7","StyledBookImage","figure","BORDER_RADIUS","toVW","MARGIN_COLUMNS","L","COLUMN_WIDTH","GAP","xl","XL","StyledImg","Img","BookImage","image","bookHeight","background","colors","fixed","childImageSharp","h200","media","BREAKPOINT","M","h300","h400","toFixed","backgroundColor","darkMuted","StyledBookReview","StyledSummary","BookReview","summary","html","isSummaryOpen","setisSummaryOpen","MarkdownWrapper","dangerouslySetInnerHTML","__html","RevealTrigger","onClick","StyledLink","Link","FILTER_UNDERLINE_STYLE","TagLink","tag","splitTagByPrefix","prefix","name","to","PATHS","BOOKS","StyledOl","ol","StyledLi","li","TagsList","tags","splitTags","splitTagsByPrefix","values","unprefixed","reduce","prev","curr","StyledRevealTrigger","StyledReveal","dl","trim","s","StyledDt","dt","WEIGHT","BOLD","StyledDd","dd","BookMeta","pageCount","dateBookPublished","publisher","series","readDates","dateLastRead","dateRated","dateReviewed","windowWidth","useWindowSize","readMoreThanOnce","formatYear","dateTime","shortFormatDate","StyledBookTitle","StyledHeadlineGridItem","query","BookPage","timestampMentionData","featuredVideoData","videos","normalizeArray","singleVideo","relatedBooks","blockRowsForLeftColumn","ceil","Layout","navTitle","navTitleLink","description","stripHtml","shareImage","lightVibrant","darkVibrant","rows","rowsFromM","columnsFromM","columnsFromL","columnsFromXL","spanRowsFromM","spanRowsFromL","rowsFromL","marginBottom","BookAffiliates","links","video","foundTimestamp","timestamps","find","t","timestamp","formatTimestamp","spanFromXL","VideoCard","big","playsInline","hideOwnedByRating","activePlayer","_class","_temp","SinglePlayer","getConfig","_props","defaultProps","getCurrentTime","getSecondsLoaded","getInternalPlayer","type","seekTo","_createClass","nextProps","isEqual","_this$config$file","file","forceVideo","forceAudio","forceHLS","forceDASH","skipCanPlay","canPlay","Wrapper","wrapper","otherProps","omit","SUPPORTED_PROPS","DEPRECATED_CONFIG_PROPS","_extends","_Player","displayName","propTypes","assign","repeat","defined","module","fillString","left","stringLength","fillStr","intMaxLength","fillLen","stringFiller","stdOnEnd","script","cb","onload","onerror","Error","src","ieOnEnd","onreadystatechange","readyState","opts","head","getElementsByTagName","charset","async","attrs","attr","setAttribute","setAttributes","text","appendChild","COLOR","BACKGROUND_DARK","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","val","defaultArrayMerge","element","getKeys","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","property","_","mergeObject","destination","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","all","array","deepmerge_1","_propTypes","string","bool","oneOfType","shape","func","node","volume","playbackRate","progressInterval","pip","light","playIcon","render","isRequired","soundcloud","preload","facebook","appId","version","playerId","dailymotion","params","vimeo","playerOptions","attributes","tracks","hlsOptions","hlsVersion","dashVersion","wistia","mixcloud","twitch","onStart","onDuration","onSeek","onProgress","onEnablePIP","onDisablePIP","visual","buying","liking","download","sharing","show_comments","show_playcount","showinfo","rel","iv_load_policy","modestbranding","api","autopause","byline","portrait","hide_cover","sortAlphabetically","strings","sort","a","b","n","e","r","u","h","f","c","d","z","utcOffset","abs","year","month","add","Number","y","w","ms","Q","toLowerCase","$","weekdays","months","v","g","format","pl","date","D","locale","$L","utc","$u","$offset","parse","$d","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","day","hour","minute","second","millisecond","unix","valueOf","getTime","toDate","$locale","weekStart","$set","daysInMonth","round","subtract","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","weekdaysMin","ddd","weekdaysShort","dddd","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toUTCString","extend","isDayjs","en","Ls","StyledAspectRatioWrapper","AspectRatioWrapper","ratio","paddingBottom","getSize","innerWidth","innerHeight","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","$find","forced","callbackfn","$values","it","StyledSummaryTrigger","button","StyledIcon","aria-expanded","aria-controls","toIObject","gOPD","createProperty","getDesc","result","ordinal","weekYear","week","bind","toInteger","count","str","res","Infinity","RangeError","dayjs","advancedFormat","getDateObjFromString","dateObj","formatDate","yearNumber","parseInt","seconds","unformatTimestamp","gOPN","gOPS","anObject","Reflect","getSymbols","_args","playedSeconds","loadedSeconds","duration","progress","played","prevPlayed","prevLoaded","progressTimeout","progressFrequency","mounted","isLoading","setVolume","loadOnReady","load","handleDurationCheck","isPlaying","startOnPlay","setPlaybackRate","seekOnPlay","_this$props3","loopOnEnded","_this$props4","clearTimeout","durationCheckTimeout","onDurationCalled","stop","disablePIP","prevProps","_this$props5","forceLoad","console","warn","enablePIP","unmute","_this3","handleReady","handlePlay","handlePause","handleEnded","onLoaded","handleLoaded","handleError","parseTimeParam","MATCH_START_QUERY","MATCH_END_QUERY","randomString","random","queryString","sdkGlobal","sdkReady","isLoaded","fetchScript","_loadScript","Promise","resolve","reject","requests","sdk","request","previousOnReady","showWarning","_deepmerge","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","message","arrays","omitKeys","output","_i2","_keys","indexOf","method","_this$player","_len2","_key2","isObject","isValidElement","_i3","_Object$keys","isMediaStream","MediaStream","_interopRequireDefault","MATCH_START_STAMP","MATCH_NUMERIC","pattern","stamp","exec","_array2","period","parseTimeString","tagPrefixNames","genre","sub","parts","resultMap","getTagsFromBooks","dedupedTags","Set","orderedTags","filterBooksByTags","filterType","filterGenre","filterSubject","ignorePrefix","filteredBooks","AFFILIATES","GOODREADS","AMAZON","BOOK_DEPOSITORY","AFFILIATE_ACTIONS","StyledArrowIcon","ArrowIcon","entries","affiliateAbbr","href","long","global","cof","inheritIfRequired","fails","dP","$trim","$Number","Base","proto","BROKEN_COF","TRIM","toNumber","argument","third","radix","maxCode","first","charCodeAt","code","digits","j","PlayIcon","viewBox","YouTubePlayerConfig","StyledVideoCard","StyledPlayButton","StyledPlayIcon","BACKGROUND_LIGHT","StyledDetails","StyledTimestamp","StyledMeta","XS","StyledDatePublished","time","StyledH","StyledBookContentsWrapper","isStars","XXS","playVideo","setPlayVideo","featuredBookCount","ownedBy","color","vibrant","youtubeId","preventDefault","fluid","w200","w350","datePublished","viewCount","process"],"mappings":"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","file":"component---src-views-book-page-index-tsx-0b9466b04c6e4b46f582.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.define-properties\");\n\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.weak-map\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.YouTube = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"../utils\");\n\nvar _singlePlayer = _interopRequireDefault(require(\"../singlePlayer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar SDK_URL = 'https://www.youtube.com/iframe_api';\nvar SDK_GLOBAL = 'YT';\nvar SDK_GLOBAL_READY = 'onYouTubeIframeAPIReady';\nvar MATCH_URL = /(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})|youtube\\.com\\/playlist\\?list=/;\nvar MATCH_PLAYLIST = /list=([a-zA-Z0-9_-]+)/;\n\nfunction parsePlaylist(url) {\n  if (MATCH_PLAYLIST.test(url)) {\n    var _url$match = url.match(MATCH_PLAYLIST),\n        _url$match2 = _slicedToArray(_url$match, 2),\n        playlistId = _url$match2[1];\n\n    return {\n      listType: 'playlist',\n      list: playlistId\n    };\n  }\n\n  return {};\n}\n\nvar YouTube =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(YouTube, _Component);\n\n  function YouTube() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, YouTube);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(YouTube)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"callPlayer\", _utils.callPlayer);\n\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", function (_ref) {\n      var data = _ref.data;\n      var _this$props = _this.props,\n          onPlay = _this$props.onPlay,\n          onPause = _this$props.onPause,\n          onBuffer = _this$props.onBuffer,\n          onBufferEnd = _this$props.onBufferEnd,\n          onEnded = _this$props.onEnded,\n          onReady = _this$props.onReady,\n          loop = _this$props.loop;\n      var _window$SDK_GLOBAL$Pl = window[SDK_GLOBAL].PlayerState,\n          PLAYING = _window$SDK_GLOBAL$Pl.PLAYING,\n          PAUSED = _window$SDK_GLOBAL$Pl.PAUSED,\n          BUFFERING = _window$SDK_GLOBAL$Pl.BUFFERING,\n          ENDED = _window$SDK_GLOBAL$Pl.ENDED,\n          CUED = _window$SDK_GLOBAL$Pl.CUED;\n\n      if (data === PLAYING) {\n        onPlay();\n        onBufferEnd();\n      }\n\n      if (data === PAUSED) onPause();\n      if (data === BUFFERING) onBuffer();\n\n      if (data === ENDED) {\n        var isPlaylist = !!_this.callPlayer('getPlaylist');\n\n        if (loop && !isPlaylist) {\n          _this.play(); // Only loop manually if not playing a playlist\n\n        }\n\n        onEnded();\n      }\n\n      if (data === CUED) onReady();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mute\", function () {\n      _this.callPlayer('mute');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unmute\", function () {\n      _this.callPlayer('unMute');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (container) {\n      _this.container = container;\n    });\n\n    return _this;\n  }\n\n  _createClass(YouTube, [{\n    key: \"load\",\n    value: function load(url, isReady) {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          playing = _this$props2.playing,\n          muted = _this$props2.muted,\n          playsinline = _this$props2.playsinline,\n          controls = _this$props2.controls,\n          loop = _this$props2.loop,\n          config = _this$props2.config,\n          _onError = _this$props2.onError;\n      var _config$youtube = config.youtube,\n          playerVars = _config$youtube.playerVars,\n          embedOptions = _config$youtube.embedOptions;\n      var id = url && url.match(MATCH_URL)[1];\n\n      if (isReady) {\n        if (MATCH_PLAYLIST.test(url)) {\n          this.player.loadPlaylist(parsePlaylist(url));\n          return;\n        }\n\n        this.player.cueVideoById({\n          videoId: id,\n          startSeconds: (0, _utils.parseStartTime)(url) || playerVars.start,\n          endSeconds: (0, _utils.parseEndTime)(url) || playerVars.end\n        });\n        return;\n      }\n\n      (0, _utils.getSDK)(SDK_URL, SDK_GLOBAL, SDK_GLOBAL_READY, function (YT) {\n        return YT.loaded;\n      }).then(function (YT) {\n        if (!_this2.container) return;\n        _this2.player = new YT.Player(_this2.container, _objectSpread({\n          width: '100%',\n          height: '100%',\n          videoId: id,\n          playerVars: _objectSpread({\n            autoplay: playing ? 1 : 0,\n            mute: muted ? 1 : 0,\n            controls: controls ? 1 : 0,\n            start: (0, _utils.parseStartTime)(url),\n            end: (0, _utils.parseEndTime)(url),\n            origin: window.location.origin,\n            playsinline: playsinline\n          }, parsePlaylist(url), {}, playerVars),\n          events: {\n            onReady: function onReady() {\n              if (loop) {\n                _this2.player.setLoop(true); // Enable playlist looping\n\n              }\n\n              _this2.props.onReady();\n            },\n            onStateChange: _this2.onStateChange,\n            onError: function onError(event) {\n              return _onError(event.data);\n            }\n          }\n        }, embedOptions));\n      }, _onError);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.callPlayer('playVideo');\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.callPlayer('pauseVideo');\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (!document.body.contains(this.callPlayer('getIframe'))) return;\n      this.callPlayer('stopVideo');\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(amount) {\n      this.callPlayer('seekTo', amount);\n\n      if (!this.props.playing) {\n        this.pause();\n      }\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(fraction) {\n      this.callPlayer('setVolume', fraction * 100);\n    }\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(rate) {\n      this.callPlayer('setPlaybackRate', rate);\n    }\n  }, {\n    key: \"setLoop\",\n    value: function setLoop(loop) {\n      this.callPlayer('setLoop', loop);\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.callPlayer('getDuration');\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.callPlayer('getCurrentTime');\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      return this.callPlayer('getVideoLoadedFraction') * this.getDuration();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var display = this.props.display;\n      var style = {\n        width: '100%',\n        height: '100%',\n        display: display\n      };\n      return _react[\"default\"].createElement(\"div\", {\n        style: style\n      }, _react[\"default\"].createElement(\"div\", {\n        ref: this.ref\n      }));\n    }\n  }]);\n\n  return YouTube;\n}(_react.Component);\n\nexports.YouTube = YouTube;\n\n_defineProperty(YouTube, \"displayName\", 'YouTube');\n\n_defineProperty(YouTube, \"canPlay\", function (url) {\n  return MATCH_URL.test(url);\n});\n\nvar _default = (0, _singlePlayer[\"default\"])(YouTube);\n\nexports[\"default\"] = _default;","import React, { useState, useEffect, createRef } from 'react'\nimport styled from 'styled-components'\n\nconst TRANSITION_DURATION_IN_MS = 200\n\ninterface ContentProps {\n  ref: React.RefObject<React.ReactNode>\n  isOpen: boolean\n  isTransitioning: boolean\n  contentHeight: number\n  className?: string\n  as?: string\n}\n\nconst StyledContent = styled.div<ContentProps>`\n  margin: 0;\n  will-change: opacity, max-height;\n  transition: opacity ${TRANSITION_DURATION_IN_MS}ms ease-in-out, max-height ${TRANSITION_DURATION_IN_MS}ms ease-in-out;\n  overflow: hidden;\n\n  ${({ isOpen, isTransitioning }): string =>\n    !isOpen &&\n    !isTransitioning &&\n    `\n      position: absolute;\n      opacity: 0;\n      pointer-events: none;\n  `}\n\n  ${({ isTransitioning }): string =>\n    isTransitioning &&\n    `\n      opacity: 0;\n      max-height: 0;\n  `}\n\n  ${({ isOpen }): string =>\n    isOpen &&\n    `\n      opacity: 1;\n  `}\n`\n\ninterface Props {\n  children: React.ReactNode\n  open: boolean\n  ariaId?: string\n  className?: string\n  as?: string\n}\n\nconst Reveal: React.FC<Props> = ({ children, open, ariaId, className, as }) => {\n  const [isOpen, setIsOpen] = useState(open)\n  const [isTransitioning, setIsTransitioning] = useState(false)\n  const [contentHeight, setContentHeight] = useState(null)\n  const contentEl = createRef<HTMLDivElement>()\n\n  useEffect(() => {\n    if (open) {\n      const ref = contentEl.current as HTMLElement\n      setContentHeight(ref.clientHeight)\n      setIsTransitioning(true)\n    } else {\n      setIsOpen(false)\n      setTimeout(() => setIsTransitioning(false), TRANSITION_DURATION_IN_MS)\n    }\n  }, [open])\n\n  useEffect(() => {\n    if (isTransitioning && !isOpen) setTimeout(() => setIsOpen(true), 50)\n  }, [isTransitioning])\n\n  return (\n    <StyledContent\n      className={className}\n      ref={contentEl}\n      isOpen={isOpen}\n      isTransitioning={isTransitioning}\n      id={ariaId}\n      aria-hidden={!isOpen}\n      as={as}\n      style={{\n        maxHeight: isOpen && contentHeight,\n      }}\n    >\n      {children}\n    </StyledContent>\n  )\n}\n\nexport default Reveal\n","/* eslint-disable @typescript-eslint/camelcase */\n\nexport const trackEvent = (\n  action: string,\n  category: string,\n  label: string,\n  data?: object\n): void => {\n  if (!window.gtag) return\n\n  window.gtag('event', action, {\n    event_category: category,\n    event_label: label,\n    ...data,\n  })\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport Grid from 'components/Grid'\nimport GridItem from 'components/Grid/GridItem'\nimport H from 'components/H'\nimport { FONT } from 'styles/tokens'\nimport { screen, screenMin } from 'styles/responsive'\n\nimport { BookCardType } from 'types/book'\nimport BookCard from 'components/cards/BookCard'\n\nconst StyledWrapper = styled.div`\n  margin: 2em 0 1em;\n`\n\nconst StyledTitleGridItem = styled(GridItem)`\n  ${screenMin.m`\n    display: none;\n  `}\n`\n\nconst StyledGrid = styled(Grid)`\n  font-size: ${FONT.SIZE.S};\n\n  ${screen.l`\n    > *:nth-last-child(1) {\n      display: none;\n    }\n  `}\n`\n\ninterface Props {\n  books: BookCardType[]\n  featuredSlugs?: string[]\n  ownedSlug?: string\n}\n\nconst RelatedBooks: React.FC<Props> = ({ books, featuredSlugs, ownedSlug }) => {\n  if (!books || books.length === 0) return null\n\n  return (\n    <StyledWrapper>\n      <StyledGrid full>\n        <StyledTitleGridItem>\n          <H size=\"L\" as=\"h2\">\n            Related books\n          </H>\n        </StyledTitleGridItem>\n\n        {books.map(\n          (book: BookCardType): React.ReactNode => {\n            const featured = ownedSlug\n              ? ownedSlug === book.slug\n              : featuredSlugs && featuredSlugs.includes(book.slug)\n\n            return (\n              <GridItem key={book.id} span={1} spanFromM={3} spanFromL={2}>\n                <BookCard\n                  book={book}\n                  featured={featured}\n                  hideDetails={ownedSlug === book.slug}\n                />\n              </GridItem>\n            )\n          }\n        )}\n      </StyledGrid>\n    </StyledWrapper>\n  )\n}\n\nexport default RelatedBooks\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","export const shortFormatNumber = (number: number): string => {\n  if (number === null) return ''\n\n  if (number >= 10000) return `${Math.floor(number / 1000)}K`\n\n  if (number >= 1000) {\n    return Math.floor(number / 100) % 10 === 0\n      ? `${Math.floor(number / 1000)}K`\n      : `${Math.floor(number / 100) / 10}K`\n  }\n\n  if (number === 1) return '1'\n\n  return `${number}`\n}\n\nexport const formatNumberInThousands = (number: number): string => {\n  if (number === null) return ''\n\n  return number\n    .toString()\n    .split('')\n    .reverse()\n    .join('')\n    .replace(/(\\d{3}(?!.*\\.|$))/g, '$1,')\n    .split('')\n    .reverse()\n    .join('')\n}\n\nexport const formatViewCount = (number: number): string => {\n  if (number === null) return ''\n\n  return `${shortFormatNumber(number)} ${number > 1 ? 'views' : 'view'}`\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Book } from 'types/book'\nimport StarRating from 'components/StarRating'\nimport H from 'components/H'\n\nconst StyledTitle = styled(H)`\n  margin: 0 0 0.25em;\n`\n\nconst StyledSubtitle = styled(H)`\n  margin: -0.25em 0 0.375em;\n  text-transform: lowercase;\n`\n\nconst StyledAuthor = styled(H)`\n  margin: 0.5em 0 1em;\n`\n\ntype Props = Pick<Book, 'title' | 'subtitle' | 'author' | 'rating7'>\n\nconst BookTitle: React.FC<Props> = ({ title, subtitle, author, rating7 }) => (\n  <>\n    <StyledTitle as=\"h2\" size=\"XXL\" decorative>\n      {title}\n    </StyledTitle>\n    {subtitle && (\n      <StyledSubtitle as=\"h3\" size=\"L\" decorative>\n        {subtitle}\n      </StyledSubtitle>\n    )}\n    <StyledAuthor as=\"h2\" size=\"M\">\n      by {author}\n    </StyledAuthor>\n\n    {rating7 && <StarRating of7={rating7} />}\n  </>\n)\n\nexport default BookTitle\n","import React from 'react'\nimport styled from 'styled-components'\nimport Img from 'gatsby-image'\n\nimport { Book } from 'types/book'\nimport { BORDER_RADIUS, BREAKPOINT } from 'styles/tokens'\nimport { screen, screenMin } from 'styles/responsive'\nimport { toVW, MARGIN_COLUMNS, COLUMN_WIDTH, GAP } from 'styles/layout'\n\nconst StyledBookImage = styled.figure`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  margin: 0;\n  box-sizing: border-box;\n  padding: 1em 0;\n  width: 100%;\n  height: 100%;\n  border-radius: ${BORDER_RADIUS.S};\n\n  ${screenMin.l`\n    justify-content: start;\n  `}\n\n  ${screen.l`\n    padding-left: ${toVW(MARGIN_COLUMNS.L * (COLUMN_WIDTH.L + GAP.L))};\n  `}\n  ${screen.xl`\n    padding-left: ${toVW(MARGIN_COLUMNS.XL * (COLUMN_WIDTH.XL + GAP.XL))};\n  `}\n`\n\nconst StyledImg = styled(Img)`\n  box-shadow: 0 0.4em 1em rgba(0, 0, 0, 0.2), 0 0 0.6em rgba(0, 0, 0, 0.1);\n  vertical-align: bottom;\n  transform: scale(var(--book-scale));\n\n  ${screenMin.l`\n    transform-origin: 0% 50%;\n  `}\n`\n\ntype Props = Pick<Book, 'image' | 'bookHeight'>\n\nconst BookImage: React.FC<Props> = ({ image, bookHeight }) => (\n  <StyledBookImage style={{ background: image.colors.muted }}>\n    <StyledImg\n      fixed={[\n        {\n          ...image.childImageSharp.h200,\n          media: `(max-width: ${BREAKPOINT.M - 1}px)`,\n        },\n        {\n          ...image.childImageSharp.h300,\n          media: `(min-width: ${\n            BREAKPOINT.M\n          }px) and (max-width: ${BREAKPOINT.L - 1}px)`,\n        },\n        {\n          ...image.childImageSharp.h400,\n          media: `(min-width: ${BREAKPOINT.L}px)`,\n        },\n      ]}\n      style={{\n        '--book-scale': ((bookHeight || 198) / 220).toFixed(2),\n      }}\n      backgroundColor={image.colors.darkMuted}\n    />\n  </StyledBookImage>\n)\n\nexport default BookImage\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\n\nimport { Book } from 'types/book'\nimport { FONT } from 'styles/tokens'\nimport { screenMin } from 'styles/responsive'\nimport MarkdownWrapper from 'components/MarkdownWrapper'\nimport Reveal from 'components/Reveal'\nimport RevealTrigger from 'components/Reveal/RevealTrigger'\n\nconst SUMMARY_ARIA_ID = 'book-summary'\n\nconst StyledBookReview = styled.div`\n  position: relative;\n\n  && {\n    margin-top: -1em;\n    ${screenMin.m`\n      margin-top: -0.25em;\n    `}\n    ${screenMin.l`\n      margin-bottom: 1em;\n    `}\n  }\n`\n\nconst StyledContent = styled.div`\n  margin: 0.5em 0 0.5em;\n\n  ${screenMin.m`\n    margin-bottom: 0 0 1em;\n  `}\n`\n\nconst StyledSummary = styled.div`\n  padding: 0.5em 0 0;\n  font-size: ${FONT.SIZE.S};\n`\n\ntype Props = Pick<Book, 'summary' | 'html'>\n\nconst BookReview: React.FC<Props> = ({ summary, html }) => {\n  const [isSummaryOpen, setisSummaryOpen] = useState(!html)\n\n  return (\n    <StyledBookReview>\n      {html && (\n        <StyledContent>\n          <MarkdownWrapper dangerouslySetInnerHTML={{ __html: html }} />\n        </StyledContent>\n      )}\n\n      <RevealTrigger\n        onClick={(): void => setisSummaryOpen(!isSummaryOpen)}\n        open={isSummaryOpen}\n        ariaId={SUMMARY_ARIA_ID}\n      >\n        Book blurb\n      </RevealTrigger>\n\n      <Reveal as={StyledSummary} open={isSummaryOpen} ariaId={SUMMARY_ARIA_ID}>\n        {summary}\n      </Reveal>\n    </StyledBookReview>\n  )\n}\n\nexport default BookReview\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\n\nimport { FILTER_UNDERLINE_STYLE } from 'styles/tokens'\nimport PATHS from 'routes/paths'\nimport { splitTagByPrefix } from 'utils/tags'\nimport { trackEvent } from 'utils/tracking'\n\nconst StyledLink = styled(Link)`\n  ${FILTER_UNDERLINE_STYLE};\n`\n\ninterface Props {\n  tag: string\n}\n\nconst TagLink: React.FC<Props> = ({ tag, ...props }) => {\n  const [prefix, name] = splitTagByPrefix(tag)\n  const to = `${PATHS.BOOKS}?${prefix}=${name}`\n\n  return (\n    <StyledLink\n      to={to}\n      onClick={(): void => trackEvent('book-filter', prefix, name)}\n      {...props}\n    />\n  )\n}\n\nexport default TagLink\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Book } from 'types/book'\nimport { FONT } from 'styles/tokens'\nimport { screenMin } from 'styles/responsive'\nimport { splitTagsByPrefix } from 'utils/tags'\nimport TagLink from 'components/links/TagLink'\n\nconst StyledOl = styled.ol`\n  margin: 1em 0;\n  font-size: ${FONT.SIZE.S};\n\n  ${screenMin.m`\n    margin: 1.5em 0;\n  `}\n`\n\nconst StyledLi = styled.li`\n  line-height: 1.25;\n  margin: 0.5em 0;\n`\n\ntype Props = Pick<Book, 'tags'>\n\nconst TagsList: React.FC<Props> = ({ tags }) => {\n  if (!tags || tags.length === 0) return null\n\n  const splitTags = splitTagsByPrefix(tags)\n\n  return (\n    <StyledOl>\n      {splitTags.map(({ prefix, values }) => (\n        <StyledLi key={prefix}>\n          <strong>{prefix}</strong> &ndash; {}\n          {values\n            .map((tag) => (\n              <TagLink tag={tag.unprefixed} key={tag.unprefixed}>\n                {tag.name}\n              </TagLink>\n            ))\n            .reduce(\n              (prev: React.ReactElement[], curr: React.ReactElement) =>\n                prev === null ? [curr] : [...prev, ', ', curr],\n              null\n            )}\n        </StyledLi>\n      ))}\n    </StyledOl>\n  )\n}\n\nexport default TagsList\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\n\nimport { Book } from 'types/book'\nimport { shortFormatDate, formatYear } from 'utils/formatting/time'\nimport useWindowSize from 'utils/hooks/useWindowSize'\nimport { FONT, BREAKPOINT } from 'styles/tokens'\nimport { trim } from 'styles/helpers'\nimport { screen, screenMin } from 'styles/responsive'\nimport Reveal from 'components/Reveal'\nimport RevealTrigger from 'components/Reveal/RevealTrigger'\nimport TagsList from './TagsList'\n\nconst META_ARIA_ID = 'book-meta'\n\nconst StyledRevealTrigger = styled(RevealTrigger)`\n  ${screenMin.m`\n    display: none;\n  `}\n  margin-bottom: 0.5em;\n`\n\nconst StyledReveal = styled.dl`\n  ${trim}\n\n  ${screen.s`\n    padding: 0.5em 0 0.5em 1em;\n  `}\n`\n\nconst StyledDt = styled.dt`\n  font-size: ${FONT.SIZE.S};\n  font-weight: ${FONT.WEIGHT.BOLD};\n  margin: 0.5em 0 0;\n\n  ${screenMin.m`\n    margin: 1em 0 0;\n  `}\n`\n\nconst StyledDd = styled.dd`\n  font-size: ${FONT.SIZE.S};\n  margin: 0;\n`\n\ntype Props = Pick<\n  Book,\n  | 'pageCount'\n  | 'dateBookPublished'\n  | 'publisher'\n  | 'tags'\n  | 'series'\n  | 'readDates'\n  | 'dateLastRead'\n  | 'dateRated'\n  | 'dateReviewed'\n>\n\nconst BookMeta: React.FC<Props> = ({\n  pageCount,\n  dateBookPublished,\n  publisher,\n  tags,\n  series,\n  readDates,\n  dateLastRead,\n  dateRated,\n  dateReviewed,\n}) => {\n  const { width: windowWidth } = useWindowSize()\n  const [isOpen, setIsOpen] = useState(false)\n  const readMoreThanOnce = readDates.length > 1\n\n  return (\n    <>\n      <StyledRevealTrigger\n        onClick={(): void => setIsOpen(!isOpen)}\n        open={isOpen}\n        ariaId={META_ARIA_ID}\n      >\n        Book data\n      </StyledRevealTrigger>\n\n      <Reveal\n        as={StyledReveal}\n        open={(windowWidth && windowWidth > BREAKPOINT.S) || isOpen}\n        ariaId={META_ARIA_ID}\n      >\n        {pageCount && (\n          <>\n            <StyledDt>Page count</StyledDt>\n            <StyledDd>{pageCount}</StyledDd>\n          </>\n        )}\n        {dateBookPublished && (\n          <>\n            <StyledDt>First published</StyledDt>\n            <StyledDd>{formatYear(dateBookPublished)}</StyledDd>\n          </>\n        )}\n        {series && (\n          <>\n            <StyledDt>Series</StyledDt>\n            <StyledDd>\n              {series.title} #{series.number}\n            </StyledDd>\n          </>\n        )}\n        {publisher && (\n          <>\n            <StyledDt>Publisher</StyledDt>\n            <StyledDd>{publisher}</StyledDd>\n          </>\n        )}\n\n        <TagsList tags={tags} />\n\n        <StyledDt>History</StyledDt>\n        {dateLastRead && (\n          <>\n            {readMoreThanOnce && (\n              <StyledDd>Read {readDates.length} times</StyledDd>\n            )}\n            <StyledDd>\n              {readMoreThanOnce ? 'Last read' : 'Read'} on{' '}\n              <time dateTime={dateLastRead.toString()}>\n                {shortFormatDate(dateLastRead)}\n              </time>\n            </StyledDd>\n          </>\n        )}\n        {dateRated && (\n          <StyledDd>\n            Rated on {}\n            <time dateTime={dateRated.toString()}>\n              {shortFormatDate(dateRated)}\n            </time>\n          </StyledDd>\n        )}\n        {dateReviewed && (\n          <StyledDd>\n            Reviewed on {}\n            <time dateTime={dateReviewed.toString()}>\n              {shortFormatDate(dateReviewed)}\n            </time>\n          </StyledDd>\n        )}\n      </Reveal>\n    </>\n  )\n}\n\nexport default BookMeta\n","import React from 'react'\nimport styled from 'styled-components'\nimport { graphql } from 'gatsby'\n\nimport { PageProps } from 'types/page'\nimport { Book, BookCardType } from 'types/book'\nimport { VideoSnapshot, VideoCardType } from 'types/video'\nimport { normalizeArray } from 'utils/graphql/normalize'\nimport { stripHtml } from 'utils/formatting/text'\nimport PATHS from 'routes/paths'\nimport Layout from 'Layout'\nimport { screen, screenMin } from 'styles/responsive'\nimport Grid from 'components/Grid'\nimport GridItem from 'components/Grid/GridItem'\nimport VideoCard from 'components/cards/VideoCard'\nimport RelatedBooks from 'components/RelatedBooks'\nimport { formatTimestamp } from 'utils/formatting/time'\n\nimport BookTitle from './BookTitle'\nimport BookImage from './BookImage'\nimport BookReview from './BookReview'\nimport BookMeta from './BookMeta'\nimport BookAffiliates from '../../components/BookAffiliates'\n\nconst StyledGrid = styled(Grid)`\n  *::selection {\n    background: var(--primary-color);\n  }\n`\n\nconst StyledBookTitle = styled.div`\n  align-self: end;\n`\n\nconst StyledHeadlineGridItem = styled(GridItem)`\n  ${screen.m`\n    margin-bottom: 0.5em;\n  `}\n  ${screenMin.l`\n    margin-bottom: 1em;\n  `}\n`\n\ninterface Props extends PageProps {\n  data: {\n    book: Book\n    timestampMentionData: {\n      edges: {\n        node: VideoSnapshot\n      }[]\n    }\n    featuredVideoData: {\n      edges: {\n        node: VideoSnapshot\n      }[]\n    }\n    relatedbooksData: {\n      edges: {\n        node: BookCardType\n      }[]\n    }\n  }\n}\n\nconst BookPage: React.FC<Props> = ({\n  data: { book, timestampMentionData, featuredVideoData },\n  location,\n}) => {\n  const videos = [\n    ...normalizeArray(featuredVideoData),\n    ...normalizeArray(timestampMentionData),\n  ] as VideoSnapshot[]\n  const singleVideo = videos.length === 1\n\n  const relatedBooks = book.relatedBooks as BookCardType[]\n  const blockRowsForLeftColumn = 2 + Math.ceil(videos.length / 2)\n\n  return (\n    <Layout\n      location={location}\n      navTitle=\"Back to book reviews\"\n      navTitleLink={PATHS.BOOKS}\n      title={`${book.title} by ${book.author}`}\n      description={stripHtml(book.html) || book.summary}\n      shareImage={`${book.slug}/share.jpg`}\n    >\n      <StyledGrid\n        full\n        style={{\n          '--primary-color': book.image.colors.lightVibrant,\n          '--secondary-color': book.image.colors.darkVibrant,\n        }}\n      >\n        <StyledHeadlineGridItem\n          as={StyledBookTitle}\n          rows=\"2/3\"\n          rowsFromM=\"1/2\"\n          columnsFromM=\"5 / 12\"\n          columnsFromL=\"8 / 14\"\n          columnsFromXL=\"9 / 15\"\n        >\n          <BookTitle\n            title={book.title}\n            subtitle={book.subtitle}\n            author={book.author}\n            rating7={book.rating7}\n          />\n        </StyledHeadlineGridItem>\n\n        <StyledHeadlineGridItem\n          columnsFromM=\"1/5\"\n          columnsFromL=\"1/8\"\n          columnsFromXL=\"1/9\"\n        >\n          <BookImage image={book.image} bookHeight={book.bookHeight} />\n        </StyledHeadlineGridItem>\n\n        <GridItem\n          spanFromM={4}\n          spanFromL={3}\n          columnsFromL=\"2/5\"\n          columnsFromXL=\"3/6\"\n          spanRowsFromM={blockRowsForLeftColumn + 1}\n          spanRowsFromL={blockRowsForLeftColumn}\n        >\n          <BookMeta\n            pageCount={book.pageCount}\n            dateBookPublished={book.dateBookPublished}\n            publisher={book.publisher}\n            tags={book.tags}\n            series={book.series}\n            readDates={book.readDates}\n            dateLastRead={book.dateLastRead}\n            dateRated={book.dateRated}\n            dateReviewed={book.dateReviewed}\n          />\n        </GridItem>\n\n        <GridItem\n          spanFromM={8}\n          spanFromL={3}\n          columnsFromM=\"5/13\"\n          columnsFromL=\"5/8\"\n          columnsFromXL=\"6/9\"\n          rows=\"5\"\n          rowsFromM=\"3\"\n          rowsFromL={`2/${blockRowsForLeftColumn + 2}`}\n          style={{ marginBottom: '1em' }}\n        >\n          <BookAffiliates links={book.links} />\n        </GridItem>\n\n        <GridItem columnsFromM=\"5/13\" columnsFromL=\"8/15\" columnsFromXL=\"9/15\">\n          <BookReview summary={book.summary} html={book.html} />\n        </GridItem>\n\n        {videos.map((video) => {\n          const foundTimestamp = (video.timestamps || []).find(\n            (t) => t.book && t.book.id === book.id\n          )\n          const timestamp = foundTimestamp && formatTimestamp(foundTimestamp.t)\n\n          return (\n            <GridItem\n              key={video.id}\n              span={singleVideo ? 2 : 1}\n              spanFromM={singleVideo ? 8 : 4}\n              spanFromL={singleVideo ? 6 : 3}\n              spanFromXL={singleVideo ? 6 : 4}\n            >\n              <VideoCard\n                video={video as VideoCardType}\n                timestamp={timestamp}\n                big\n                playsInline\n                hideOwnedByRating\n              />\n            </GridItem>\n          )\n        })}\n      </StyledGrid>\n\n      <RelatedBooks books={relatedBooks} />\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query BookPage($id: String!) {\n    book: book(id: { eq: $id }) {\n      ...BookFields\n    }\n    timestampMentionData: allVideo(\n      filter: { timestamps: { elemMatch: { book: { id: { eq: $id } } } } }\n      sort: { fields: datePublished, order: DESC }\n    ) {\n      edges {\n        node {\n          ...VideoSnapshotFields\n        }\n      }\n    }\n    featuredVideoData: allVideo(\n      filter: { ownedBy: { id: { eq: $id } } }\n      sort: { fields: datePublished, order: DESC }\n    ) {\n      edges {\n        node {\n          ...VideoSnapshotFields\n        }\n      }\n    }\n  }\n`\n\nexport default BookPage\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.define-properties\");\n\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.weak-map\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createSinglePlayer;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _props = require(\"./props\");\n\nvar _utils = require(\"./utils\");\n\nvar _Player = _interopRequireDefault(require(\"./Player\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar SUPPORTED_PROPS = Object.keys(_props.propTypes);\n\nfunction createSinglePlayer(activePlayer) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(SinglePlayer, _Component);\n\n    function SinglePlayer() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, SinglePlayer);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SinglePlayer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_this), \"config\", (0, _utils.getConfig)(_this.props, _props.defaultProps, true));\n\n      _defineProperty(_assertThisInitialized(_this), \"getDuration\", function () {\n        if (!_this.player) return null;\n        return _this.player.getDuration();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getCurrentTime\", function () {\n        if (!_this.player) return null;\n        return _this.player.getCurrentTime();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getSecondsLoaded\", function () {\n        if (!_this.player) return null;\n        return _this.player.getSecondsLoaded();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getInternalPlayer\", function () {\n        var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'player';\n        if (!_this.player) return null;\n        return _this.player.getInternalPlayer(key);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"seekTo\", function (fraction, type) {\n        if (!_this.player) return null;\n\n        _this.player.seekTo(fraction, type);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"ref\", function (player) {\n        _this.player = player;\n      });\n\n      return _this;\n    }\n\n    _createClass(SinglePlayer, [{\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps) {\n        return !(0, _utils.isEqual)(this.props, nextProps);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        this.config = (0, _utils.getConfig)(this.props, _props.defaultProps);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$config$file = this.config.file,\n            forceVideo = _this$config$file.forceVideo,\n            forceAudio = _this$config$file.forceAudio,\n            forceHLS = _this$config$file.forceHLS,\n            forceDASH = _this$config$file.forceDASH;\n        var skipCanPlay = forceVideo || forceAudio || forceHLS || forceDASH;\n\n        if (!activePlayer.canPlay(this.props.url) && !skipCanPlay) {\n          return null;\n        }\n\n        var _this$props = this.props,\n            style = _this$props.style,\n            width = _this$props.width,\n            height = _this$props.height,\n            Wrapper = _this$props.wrapper;\n        var otherProps = (0, _utils.omit)(this.props, SUPPORTED_PROPS, _props.DEPRECATED_CONFIG_PROPS);\n        return _react[\"default\"].createElement(Wrapper, _extends({\n          style: _objectSpread({}, style, {\n            width: width,\n            height: height\n          })\n        }, otherProps), _react[\"default\"].createElement(_Player[\"default\"], _extends({}, this.props, {\n          ref: this.ref,\n          activePlayer: activePlayer,\n          config: this.config\n        })));\n      }\n    }]);\n\n    return SinglePlayer;\n  }(_react.Component), _defineProperty(_class, \"displayName\", \"\".concat(activePlayer.displayName, \"Player\")), _defineProperty(_class, \"propTypes\", _props.propTypes), _defineProperty(_class, \"defaultProps\", _props.defaultProps), _defineProperty(_class, \"canPlay\", activePlayer.canPlay), _temp;\n}","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","module.exports = function load(src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var script = document.createElement('script');\n\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  cb = cb || function () {};\n\n  script.type = opts.type || 'text/javascript';\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true;\n  script.src = src;\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs);\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text;\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd;\n  onend(script, cb); // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script);\n};\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd(script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null;\n    cb(null, script);\n  };\n\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null;\n    cb(new Error('Failed to load ' + this.src), script);\n  };\n}\n\nfunction ieOnEnd(script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return;\n    this.onreadystatechange = null;\n    cb(null, script); // there is no way to catch loading errors in IE8\n  };\n}","import styled from 'styled-components'\nimport { COLOR, FONT } from 'styles/tokens'\nimport { trim } from 'styles/helpers'\n\nconst MarkdownWrapper = styled.div`\n  ${trim}\n\n  hr {\n    height: 0.1em;\n    background: ${COLOR.BACKGROUND_DARK};\n    border: 0;\n    margin: 1em 0;\n  }\n\n  blockquote {\n    margin-left: 0;\n    border-left: 0.2em solid ${COLOR.BACKGROUND_DARK};\n    padding-left: 1em;\n  }\n\n  h2 {\n    margin-top: 1em;\n    font-size: ${FONT.SIZE.M};\n  }\n\n  h3,\n  h4 {\n    margin-top: 1em;\n    font-size: ${FONT.SIZE.S};\n  }\n\n  img {\n    max-width: 100%;\n  }\n\n  ul {\n    list-style: disc;\n  }\n\n  ol {\n    list-style: decimal;\n  }\n\n  p,\n  ul,\n  ol {\n    margin: 0.5em 0;\n  }\n\n  ul,\n  ol {\n    padding-left: 1em;\n    ${trim}\n  }\n\n  li {\n    margin: 0.25em 0;\n  }\n\n  a {\n    text-decoration: underline;\n    text-decoration-color: var(--secondary-color);\n  }\n`\n\nexport default MarkdownWrapper\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar isMergeableObject = function isMergeableObject(value) {\n  return isNonNullObject(value) && !isSpecial(value);\n};\n\nfunction isNonNullObject(value) {\n  return !!value && typeof value === 'object';\n}\n\nfunction isSpecial(value) {\n  var stringValue = Object.prototype.toString.call(value);\n  return stringValue === '[object RegExp]' || stringValue === '[object Date]' || isReactElement(value);\n} // see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\n\n\nvar canUseSymbol = typeof Symbol === 'function' && Symbol[\"for\"];\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol[\"for\"]('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n  return value.$$typeof === REACT_ELEMENT_TYPE;\n}\n\nfunction emptyTarget(val) {\n  return Array.isArray(val) ? [] : {};\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n  return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;\n}\n\nfunction defaultArrayMerge(target, source, options) {\n  return target.concat(source).map(function (element) {\n    return cloneUnlessOtherwiseSpecified(element, options);\n  });\n}\n\nfunction getMergeFunction(key, options) {\n  if (!options.customMerge) {\n    return deepmerge;\n  }\n\n  var customMerge = options.customMerge(key);\n  return typeof customMerge === 'function' ? customMerge : deepmerge;\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n  return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function (symbol) {\n    return target.propertyIsEnumerable(symbol);\n  }) : [];\n}\n\nfunction getKeys(target) {\n  return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));\n}\n\nfunction propertyIsOnObject(object, property) {\n  try {\n    return property in object;\n  } catch (_) {\n    return false;\n  }\n} // Protects from prototype poisoning and unexpected merging up the prototype chain.\n\n\nfunction propertyIsUnsafe(target, key) {\n  return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n  && !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n  && Object.propertyIsEnumerable.call(target, key)); // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n  var destination = {};\n\n  if (options.isMergeableObject(target)) {\n    getKeys(target).forEach(function (key) {\n      destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n    });\n  }\n\n  getKeys(source).forEach(function (key) {\n    if (propertyIsUnsafe(target, key)) {\n      return;\n    }\n\n    if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n      destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n    } else {\n      destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n    }\n  });\n  return destination;\n}\n\nfunction deepmerge(target, source, options) {\n  options = options || {};\n  options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n  options.isMergeableObject = options.isMergeableObject || isMergeableObject; // cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n  // implementations can use it. The caller may not replace it.\n\n  options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n  var sourceIsArray = Array.isArray(source);\n  var targetIsArray = Array.isArray(target);\n  var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n  if (!sourceAndTargetTypesMatch) {\n    return cloneUnlessOtherwiseSpecified(source, options);\n  } else if (sourceIsArray) {\n    return options.arrayMerge(target, source, options);\n  } else {\n    return mergeObject(target, source, options);\n  }\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n  if (!Array.isArray(array)) {\n    throw new Error('first argument should be an array');\n  }\n\n  return array.reduce(function (prev, next) {\n    return deepmerge(prev, next, options);\n  }, {});\n};\n\nvar deepmerge_1 = deepmerge;\nmodule.exports = deepmerge_1;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEPRECATED_CONFIG_PROPS = exports.defaultProps = exports.propTypes = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar string = _propTypes[\"default\"].string,\n    bool = _propTypes[\"default\"].bool,\n    number = _propTypes[\"default\"].number,\n    array = _propTypes[\"default\"].array,\n    oneOfType = _propTypes[\"default\"].oneOfType,\n    shape = _propTypes[\"default\"].shape,\n    object = _propTypes[\"default\"].object,\n    func = _propTypes[\"default\"].func,\n    node = _propTypes[\"default\"].node;\nvar propTypes = {\n  url: oneOfType([string, array, object]),\n  playing: bool,\n  loop: bool,\n  controls: bool,\n  volume: number,\n  muted: bool,\n  playbackRate: number,\n  width: oneOfType([string, number]),\n  height: oneOfType([string, number]),\n  style: object,\n  progressInterval: number,\n  playsinline: bool,\n  pip: bool,\n  light: oneOfType([bool, string]),\n  playIcon: node,\n  wrapper: oneOfType([string, func, shape({\n    render: func.isRequired\n  })]),\n  config: shape({\n    soundcloud: shape({\n      options: object,\n      preload: bool\n    }),\n    youtube: shape({\n      playerVars: object,\n      embedOptions: object,\n      preload: bool\n    }),\n    facebook: shape({\n      appId: string,\n      version: string,\n      playerId: string\n    }),\n    dailymotion: shape({\n      params: object,\n      preload: bool\n    }),\n    vimeo: shape({\n      playerOptions: object,\n      preload: bool\n    }),\n    file: shape({\n      attributes: object,\n      tracks: array,\n      forceVideo: bool,\n      forceAudio: bool,\n      forceHLS: bool,\n      forceDASH: bool,\n      hlsOptions: object,\n      hlsVersion: string,\n      dashVersion: string\n    }),\n    wistia: shape({\n      options: object\n    }),\n    mixcloud: shape({\n      options: object\n    }),\n    twitch: shape({\n      options: object,\n      playerId: string\n    })\n  }),\n  onReady: func,\n  onStart: func,\n  onPlay: func,\n  onPause: func,\n  onBuffer: func,\n  onBufferEnd: func,\n  onEnded: func,\n  onError: func,\n  onDuration: func,\n  onSeek: func,\n  onProgress: func,\n  onEnablePIP: func,\n  onDisablePIP: func\n};\nexports.propTypes = propTypes;\nvar defaultProps = {\n  playing: false,\n  loop: false,\n  controls: false,\n  volume: null,\n  muted: false,\n  playbackRate: 1,\n  width: '640px',\n  height: '360px',\n  style: {},\n  progressInterval: 1000,\n  playsinline: false,\n  pip: false,\n  light: false,\n  wrapper: 'div',\n  config: {\n    soundcloud: {\n      options: {\n        visual: true,\n        // Undocumented, but makes player fill container and look better\n        buying: false,\n        liking: false,\n        download: false,\n        sharing: false,\n        show_comments: false,\n        show_playcount: false\n      }\n    },\n    youtube: {\n      playerVars: {\n        playsinline: 1,\n        showinfo: 0,\n        rel: 0,\n        iv_load_policy: 3,\n        modestbranding: 1\n      },\n      embedOptions: {},\n      preload: false\n    },\n    facebook: {\n      appId: '1309697205772819',\n      version: 'v3.3',\n      playerId: null\n    },\n    dailymotion: {\n      params: {\n        api: 1,\n        'endscreen-enable': false\n      },\n      preload: false\n    },\n    vimeo: {\n      playerOptions: {\n        autopause: false,\n        byline: false,\n        portrait: false,\n        title: false\n      },\n      preload: false\n    },\n    file: {\n      attributes: {},\n      tracks: [],\n      forceVideo: false,\n      forceAudio: false,\n      forceHLS: false,\n      forceDASH: false,\n      hlsOptions: {},\n      hlsVersion: '0.13.1',\n      dashVersion: '2.9.2'\n    },\n    wistia: {\n      options: {}\n    },\n    mixcloud: {\n      options: {\n        hide_cover: 1\n      }\n    },\n    twitch: {\n      options: {},\n      playerId: null\n    }\n  },\n  onReady: function onReady() {},\n  onStart: function onStart() {},\n  onPlay: function onPlay() {},\n  onPause: function onPause() {},\n  onBuffer: function onBuffer() {},\n  onBufferEnd: function onBufferEnd() {},\n  onEnded: function onEnded() {},\n  onError: function onError() {},\n  onDuration: function onDuration() {},\n  onSeek: function onSeek() {},\n  onProgress: function onProgress() {},\n  onEnablePIP: function onEnablePIP() {},\n  onDisablePIP: function onDisablePIP() {}\n};\nexports.defaultProps = defaultProps;\nvar DEPRECATED_CONFIG_PROPS = ['soundcloudConfig', 'youtubeConfig', 'facebookConfig', 'dailymotionConfig', 'vimeoConfig', 'fileConfig', 'wistiaConfig'];\nexports.DEPRECATED_CONFIG_PROPS = DEPRECATED_CONFIG_PROPS;","import { Book } from 'types/book'\n\nexport const getBookDetailsFromString = (\n  text: string\n): Pick<Book, 'title' | 'author'> | undefined => {\n  const referenceMatch = text.match(/^(.+), (.+)$/)\n  return (\n    referenceMatch && {\n      title: referenceMatch[1],\n      author: referenceMatch[2],\n    }\n  )\n}\n\nexport const formatBookDetails = ({\n  title,\n  author,\n}: Pick<Book, 'title' | 'author'>): string => `${title} by ${author}`\n\nexport const stripHtml = (text: string): string =>\n  text\n    .replace(/<\\/[^>]+><[^>/]+>/gm, ' ')\n    .replace(/<\\/?[^>]+>/g, '')\n    .replace(/ +/gm, ' ')\n    .trim()\n\nexport const sortAlphabetically = (strings: string[]): string[] =>\n  strings.sort((a, b) => (a < b ? -1 : a > b ? 1 : 0))\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","require(\"core-js/modules/es6.date.to-iso-string\");\n\nrequire(\"core-js/modules/es6.date.to-json\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\n!function (t, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(n) : t.dayjs = n();\n}(this, function () {\n  \"use strict\";\n\n  var t = \"millisecond\",\n      n = \"second\",\n      e = \"minute\",\n      r = \"hour\",\n      i = \"day\",\n      s = \"week\",\n      u = \"month\",\n      o = \"quarter\",\n      a = \"year\",\n      h = /^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,\n      f = /\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,\n      c = function c(t, n, e) {\n    var r = String(t);\n    return !r || r.length >= n ? t : \"\" + Array(n + 1 - r.length).join(e) + t;\n  },\n      d = {\n    s: c,\n    z: function z(t) {\n      var n = -t.utcOffset(),\n          e = Math.abs(n),\n          r = Math.floor(e / 60),\n          i = e % 60;\n      return (n <= 0 ? \"+\" : \"-\") + c(r, 2, \"0\") + \":\" + c(i, 2, \"0\");\n    },\n    m: function m(t, n) {\n      var e = 12 * (n.year() - t.year()) + (n.month() - t.month()),\n          r = t.clone().add(e, u),\n          i = n - r < 0,\n          s = t.clone().add(e + (i ? -1 : 1), u);\n      return Number(-(e + (n - r) / (i ? r - s : s - r)) || 0);\n    },\n    a: function a(t) {\n      return t < 0 ? Math.ceil(t) || 0 : Math.floor(t);\n    },\n    p: function p(h) {\n      return {\n        M: u,\n        y: a,\n        w: s,\n        d: i,\n        h: r,\n        m: e,\n        s: n,\n        ms: t,\n        Q: o\n      }[h] || String(h || \"\").toLowerCase().replace(/s$/, \"\");\n    },\n    u: function u(t) {\n      return void 0 === t;\n    }\n  },\n      $ = {\n    name: \"en\",\n    weekdays: \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n    months: \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")\n  },\n      l = \"en\",\n      m = {};\n\n  m[l] = $;\n\n  var y = function y(t) {\n    return t instanceof v;\n  },\n      M = function M(t, n, e) {\n    var r;\n    if (!t) return l;\n    if (\"string\" == typeof t) m[t] && (r = t), n && (m[t] = n, r = t);else {\n      var i = t.name;\n      m[i] = t, r = i;\n    }\n    return e || (l = r), r;\n  },\n      g = function g(t, n, e) {\n    if (y(t)) return t.clone();\n    var r = n ? \"string\" == typeof n ? {\n      format: n,\n      pl: e\n    } : n : {};\n    return r.date = t, new v(r);\n  },\n      D = d;\n\n  D.l = M, D.i = y, D.w = function (t, n) {\n    return g(t, {\n      locale: n.$L,\n      utc: n.$u,\n      $offset: n.$offset\n    });\n  };\n\n  var v = function () {\n    function c(t) {\n      this.$L = this.$L || M(t.locale, null, !0), this.parse(t);\n    }\n\n    var d = c.prototype;\n    return d.parse = function (t) {\n      this.$d = function (t) {\n        var n = t.date,\n            e = t.utc;\n        if (null === n) return new Date(NaN);\n        if (D.u(n)) return new Date();\n        if (n instanceof Date) return new Date(n);\n\n        if (\"string\" == typeof n && !/Z$/i.test(n)) {\n          var r = n.match(h);\n          if (r) return e ? new Date(Date.UTC(r[1], r[2] - 1, r[3] || 1, r[4] || 0, r[5] || 0, r[6] || 0, r[7] || 0)) : new Date(r[1], r[2] - 1, r[3] || 1, r[4] || 0, r[5] || 0, r[6] || 0, r[7] || 0);\n        }\n\n        return new Date(n);\n      }(t), this.init();\n    }, d.init = function () {\n      var t = this.$d;\n      this.$y = t.getFullYear(), this.$M = t.getMonth(), this.$D = t.getDate(), this.$W = t.getDay(), this.$H = t.getHours(), this.$m = t.getMinutes(), this.$s = t.getSeconds(), this.$ms = t.getMilliseconds();\n    }, d.$utils = function () {\n      return D;\n    }, d.isValid = function () {\n      return !(\"Invalid Date\" === this.$d.toString());\n    }, d.isSame = function (t, n) {\n      var e = g(t);\n      return this.startOf(n) <= e && e <= this.endOf(n);\n    }, d.isAfter = function (t, n) {\n      return g(t) < this.startOf(n);\n    }, d.isBefore = function (t, n) {\n      return this.endOf(n) < g(t);\n    }, d.$g = function (t, n, e) {\n      return D.u(t) ? this[n] : this.set(e, t);\n    }, d.year = function (t) {\n      return this.$g(t, \"$y\", a);\n    }, d.month = function (t) {\n      return this.$g(t, \"$M\", u);\n    }, d.day = function (t) {\n      return this.$g(t, \"$W\", i);\n    }, d.date = function (t) {\n      return this.$g(t, \"$D\", \"date\");\n    }, d.hour = function (t) {\n      return this.$g(t, \"$H\", r);\n    }, d.minute = function (t) {\n      return this.$g(t, \"$m\", e);\n    }, d.second = function (t) {\n      return this.$g(t, \"$s\", n);\n    }, d.millisecond = function (n) {\n      return this.$g(n, \"$ms\", t);\n    }, d.unix = function () {\n      return Math.floor(this.valueOf() / 1e3);\n    }, d.valueOf = function () {\n      return this.$d.getTime();\n    }, d.startOf = function (t, o) {\n      var h = this,\n          f = !!D.u(o) || o,\n          c = D.p(t),\n          d = function d(t, n) {\n        var e = D.w(h.$u ? Date.UTC(h.$y, n, t) : new Date(h.$y, n, t), h);\n        return f ? e : e.endOf(i);\n      },\n          $ = function $(t, n) {\n        return D.w(h.toDate()[t].apply(h.toDate(), (f ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(n)), h);\n      },\n          l = this.$W,\n          m = this.$M,\n          y = this.$D,\n          M = \"set\" + (this.$u ? \"UTC\" : \"\");\n\n      switch (c) {\n        case a:\n          return f ? d(1, 0) : d(31, 11);\n\n        case u:\n          return f ? d(1, m) : d(0, m + 1);\n\n        case s:\n          var g = this.$locale().weekStart || 0,\n              v = (l < g ? l + 7 : l) - g;\n          return d(f ? y - v : y + (6 - v), m);\n\n        case i:\n        case \"date\":\n          return $(M + \"Hours\", 0);\n\n        case r:\n          return $(M + \"Minutes\", 1);\n\n        case e:\n          return $(M + \"Seconds\", 2);\n\n        case n:\n          return $(M + \"Milliseconds\", 3);\n\n        default:\n          return this.clone();\n      }\n    }, d.endOf = function (t) {\n      return this.startOf(t, !1);\n    }, d.$set = function (s, o) {\n      var h,\n          f = D.p(s),\n          c = \"set\" + (this.$u ? \"UTC\" : \"\"),\n          d = (h = {}, h[i] = c + \"Date\", h.date = c + \"Date\", h[u] = c + \"Month\", h[a] = c + \"FullYear\", h[r] = c + \"Hours\", h[e] = c + \"Minutes\", h[n] = c + \"Seconds\", h[t] = c + \"Milliseconds\", h)[f],\n          $ = f === i ? this.$D + (o - this.$W) : o;\n\n      if (f === u || f === a) {\n        var l = this.clone().set(\"date\", 1);\n        l.$d[d]($), l.init(), this.$d = l.set(\"date\", Math.min(this.$D, l.daysInMonth())).toDate();\n      } else d && this.$d[d]($);\n\n      return this.init(), this;\n    }, d.set = function (t, n) {\n      return this.clone().$set(t, n);\n    }, d.get = function (t) {\n      return this[D.p(t)]();\n    }, d.add = function (t, o) {\n      var h,\n          f = this;\n      t = Number(t);\n\n      var c = D.p(o),\n          d = function d(n) {\n        var e = g(f);\n        return D.w(e.date(e.date() + Math.round(n * t)), f);\n      };\n\n      if (c === u) return this.set(u, this.$M + t);\n      if (c === a) return this.set(a, this.$y + t);\n      if (c === i) return d(1);\n      if (c === s) return d(7);\n      var $ = (h = {}, h[e] = 6e4, h[r] = 36e5, h[n] = 1e3, h)[c] || 1,\n          l = this.$d.getTime() + t * $;\n      return D.w(l, this);\n    }, d.subtract = function (t, n) {\n      return this.add(-1 * t, n);\n    }, d.format = function (t) {\n      var n = this;\n      if (!this.isValid()) return \"Invalid Date\";\n\n      var e = t || \"YYYY-MM-DDTHH:mm:ssZ\",\n          r = D.z(this),\n          i = this.$locale(),\n          s = this.$H,\n          u = this.$m,\n          o = this.$M,\n          a = i.weekdays,\n          h = i.months,\n          c = function c(t, r, i, s) {\n        return t && (t[r] || t(n, e)) || i[r].substr(0, s);\n      },\n          d = function d(t) {\n        return D.s(s % 12 || 12, t, \"0\");\n      },\n          $ = i.meridiem || function (t, n, e) {\n        var r = t < 12 ? \"AM\" : \"PM\";\n        return e ? r.toLowerCase() : r;\n      },\n          l = {\n        YY: String(this.$y).slice(-2),\n        YYYY: this.$y,\n        M: o + 1,\n        MM: D.s(o + 1, 2, \"0\"),\n        MMM: c(i.monthsShort, o, h, 3),\n        MMMM: h[o] || h(this, e),\n        D: this.$D,\n        DD: D.s(this.$D, 2, \"0\"),\n        d: String(this.$W),\n        dd: c(i.weekdaysMin, this.$W, a, 2),\n        ddd: c(i.weekdaysShort, this.$W, a, 3),\n        dddd: a[this.$W],\n        H: String(s),\n        HH: D.s(s, 2, \"0\"),\n        h: d(1),\n        hh: d(2),\n        a: $(s, u, !0),\n        A: $(s, u, !1),\n        m: String(u),\n        mm: D.s(u, 2, \"0\"),\n        s: String(this.$s),\n        ss: D.s(this.$s, 2, \"0\"),\n        SSS: D.s(this.$ms, 3, \"0\"),\n        Z: r\n      };\n\n      return e.replace(f, function (t, n) {\n        return n || l[t] || r.replace(\":\", \"\");\n      });\n    }, d.utcOffset = function () {\n      return 15 * -Math.round(this.$d.getTimezoneOffset() / 15);\n    }, d.diff = function (t, h, f) {\n      var c,\n          d = D.p(h),\n          $ = g(t),\n          l = 6e4 * ($.utcOffset() - this.utcOffset()),\n          m = this - $,\n          y = D.m(this, $);\n      return y = (c = {}, c[a] = y / 12, c[u] = y, c[o] = y / 3, c[s] = (m - l) / 6048e5, c[i] = (m - l) / 864e5, c[r] = m / 36e5, c[e] = m / 6e4, c[n] = m / 1e3, c)[d] || m, f ? y : D.a(y);\n    }, d.daysInMonth = function () {\n      return this.endOf(u).$D;\n    }, d.$locale = function () {\n      return m[this.$L];\n    }, d.locale = function (t, n) {\n      if (!t) return this.$L;\n      var e = this.clone(),\n          r = M(t, n, !0);\n      return r && (e.$L = r), e;\n    }, d.clone = function () {\n      return D.w(this.$d, this);\n    }, d.toDate = function () {\n      return new Date(this.valueOf());\n    }, d.toJSON = function () {\n      return this.isValid() ? this.toISOString() : null;\n    }, d.toISOString = function () {\n      return this.$d.toISOString();\n    }, d.toString = function () {\n      return this.$d.toUTCString();\n    }, c;\n  }();\n\n  return g.prototype = v.prototype, g.extend = function (t, n) {\n    return t(n, v, g), g;\n  }, g.locale = M, g.isDayjs = y, g.unix = function (t) {\n    return g(1e3 * t);\n  }, g.en = m[l], g.Ls = m, g;\n});","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledAspectRatioWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 0;\n\n  > * {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`\n\ninterface Props {\n  ratio?: number\n  as?: React.ElementType\n  style?: object\n  children: React.ReactNode\n}\n\nconst AspectRatioWrapper: React.FC<Props> = ({\n  ratio,\n  as,\n  style,\n  children,\n}) => (\n  <StyledAspectRatioWrapper\n    style={{\n      paddingBottom: `${(100 / (ratio || 16 / 9)).toFixed(2)}%`,\n      ...style,\n    }}\n    as={as}\n  >\n    {children}\n  </StyledAspectRatioWrapper>\n)\n\nexport default AspectRatioWrapper\n","import { useState, useEffect } from 'react'\n\ninterface WindowSize {\n  width: number\n  height: number\n}\n\nconst useWindowSize = (): WindowSize => {\n  if (typeof window === 'undefined') {\n    return { width: null, height: null }\n  }\n\n  const getSize = (): WindowSize => ({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  })\n\n  const [windowSize, setWindowSize] = useState(getSize)\n\n  useEffect(() => {\n    const handleResize = (): void => setWindowSize(getSize())\n\n    window.addEventListener('resize', handleResize)\n    return (): void => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowSize\n}\n\nexport default useWindowSize\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { FONT } from 'styles/tokens'\nimport Link from 'components/links/Link'\n\nconst StyledSummaryTrigger = styled.button`\n  font-size: ${FONT.SIZE.S};\n  font-weight: ${FONT.WEIGHT.BOLD};\n`\n\nconst StyledIcon = styled.i<Pick<Props, 'open'>>`\n  display: inline-block;\n  position: relative;\n  width: 1.25em;\n  height: 1.25em;\n  vertical-align: -0.3em;\n\n  &:before,\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 0.35em;\n    width: 0.7em;\n    height: 0.125em;\n    background: currentColor;\n    transform-origin: 50% 50%;\n    transform: translate(-50%, -50%);\n    transition: transform 0.2s linear;\n  }\n\n  ${({ open }): string =>\n    !open &&\n    `\n    &:before {\n      transform: translate(-50%, -50%) rotate(-90deg);\n    }\n  `}\n`\n\ninterface Props {\n  children: React.ReactNode\n  open: boolean\n  ariaId?: string\n  onClick: () => void\n  className?: string\n}\n\nconst RevealTrigger: React.FC<Props> = ({\n  children,\n  open,\n  ariaId,\n  onClick,\n  className,\n}) => (\n  <Link\n    onClick={onClick}\n    aria-expanded={open}\n    aria-controls={ariaId}\n    as={StyledSummaryTrigger}\n    className={className}\n  >\n    <StyledIcon open={open} />\n    {children}\n  </Link>\n)\n\nexport default RevealTrigger\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","require(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : e.dayjs_plugin_advancedFormat = t();\n}(this, function () {\n  \"use strict\";\n\n  return function (e, t, r) {\n    var n = t.prototype,\n        o = n.format;\n    r.en.ordinal = function (e) {\n      var t = [\"th\", \"st\", \"nd\", \"rd\"],\n          r = e % 100;\n      return \"[\" + e + (t[(r - 20) % 10] || t[r] || t[0]) + \"]\";\n    }, n.format = function (e) {\n      var t = this,\n          r = this.$locale(),\n          n = this.$utils(),\n          a = (e || \"YYYY-MM-DDTHH:mm:ssZ\").replace(/\\[([^\\]]+)]|Q|wo|ww|w|gggg|Do|X|x|k{1,2}|S/g, function (e) {\n        switch (e) {\n          case \"Q\":\n            return Math.ceil((t.$M + 1) / 3);\n\n          case \"Do\":\n            return r.ordinal(t.$D);\n\n          case \"gggg\":\n            return t.weekYear();\n\n          case \"wo\":\n            return r.ordinal(t.week(), \"W\");\n\n          case \"w\":\n          case \"ww\":\n            return n.s(t.week(), \"w\" === e ? 1 : 2, \"0\");\n\n          case \"k\":\n          case \"kk\":\n            return n.s(String(0 === t.$H ? 24 : t.$H), \"k\" === e ? 1 : 2, \"0\");\n\n          case \"X\":\n            return Math.floor(t.$d.getTime() / 1e3);\n\n          case \"x\":\n            return t.$d.getTime();\n\n          default:\n            return e;\n        }\n      });\n      return o.bind(this)(a);\n    };\n  };\n});","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","import dayjs from 'dayjs'\nimport advancedFormat from 'dayjs/plugin/advancedFormat'\ndayjs.extend(advancedFormat)\n\nconst YEAR_FORMAT = 'YYYY'\nconst DATE_SHORT_FORMAT = 'Do MMM ’YY'\nconst DATE_LONG_FORMAT = 'dddd Do MMMM YYYY'\n\nexport const getDateObjFromString = (date: string): dayjs.Dayjs =>\n  dayjs(new Date(date))\n\nexport const shortFormatDate = (date: string): string | null => {\n  const dateObj = getDateObjFromString(date)\n  if (dateObj.isValid()) return dateObj.format(DATE_SHORT_FORMAT)\n  return null\n}\n\nexport const formatDate = (date: string): string | null => {\n  const dateObj = getDateObjFromString(date)\n  if (dateObj.isValid()) return dateObj.format(DATE_LONG_FORMAT)\n  return null\n}\n\nexport const formatYear = (date: string): string | null => {\n  const dateObj = getDateObjFromString(date)\n  if (dateObj.isValid()) {\n    const yearNumber = parseInt(dateObj.format(YEAR_FORMAT), 10)\n    if (yearNumber < 0) return `${Math.abs(yearNumber)} BCE`\n    if (yearNumber < 1000) return `${yearNumber} AD`\n    return `${yearNumber}`\n  }\n  return null\n}\n\nexport const formatTimestamp = (seconds: number): string =>\n  `${Math.floor(seconds / 60)}:${String(seconds % 60).padStart(2, '0')}`\n\nexport const unformatTimestamp = (text: string): number =>\n  Number(text.split(':')[0]) * 60 + Number(text.split(':')[1])\n\nexport const getLastReadDate = (dates: [string, string][]): Date =>\n  new Date(\n    dates\n      .map((dateTuple) => dateTuple[1])\n      .sort((a, b) => {\n        if (a < b) return 1\n        if (a > b) return -1\n        return 0\n      })[0]\n  )\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.weak-map\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _props = require(\"./props\");\n\nvar _utils = require(\"./utils\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar SEEK_ON_PLAY_EXPIRY = 5000;\n\nvar Player =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Player, _Component);\n\n  function Player() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Player)).call.apply(_getPrototypeOf2, [this].concat(_args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"isReady\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"isPlaying\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"isLoading\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"loadOnReady\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"startOnPlay\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"seekOnPlay\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDurationCalled\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"getInternalPlayer\", function (key) {\n      if (!_this.player) return null;\n      return _this.player[key];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"progress\", function () {\n      if (_this.props.url && _this.player && _this.isReady) {\n        var playedSeconds = _this.getCurrentTime() || 0;\n\n        var loadedSeconds = _this.getSecondsLoaded();\n\n        var duration = _this.getDuration();\n\n        if (duration) {\n          var progress = {\n            playedSeconds: playedSeconds,\n            played: playedSeconds / duration\n          };\n\n          if (loadedSeconds !== null) {\n            progress.loadedSeconds = loadedSeconds;\n            progress.loaded = loadedSeconds / duration;\n          } // Only call onProgress if values have changed\n\n\n          if (progress.playedSeconds !== _this.prevPlayed || progress.loadedSeconds !== _this.prevLoaded) {\n            _this.props.onProgress(progress);\n          }\n\n          _this.prevPlayed = progress.playedSeconds;\n          _this.prevLoaded = progress.loadedSeconds;\n        }\n      }\n\n      _this.progressTimeout = setTimeout(_this.progress, _this.props.progressFrequency || _this.props.progressInterval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleReady\", function () {\n      if (!_this.mounted) return;\n      _this.isReady = true;\n      _this.isLoading = false;\n      var _this$props = _this.props,\n          onReady = _this$props.onReady,\n          playing = _this$props.playing,\n          volume = _this$props.volume,\n          muted = _this$props.muted;\n      onReady();\n\n      if (!muted && volume !== null) {\n        _this.player.setVolume(volume);\n      }\n\n      if (_this.loadOnReady) {\n        _this.player.load(_this.loadOnReady, true);\n\n        _this.loadOnReady = null;\n      } else if (playing) {\n        _this.player.play();\n      }\n\n      _this.handleDurationCheck();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function () {\n      _this.isPlaying = true;\n      _this.isLoading = false;\n      var _this$props2 = _this.props,\n          onStart = _this$props2.onStart,\n          onPlay = _this$props2.onPlay,\n          playbackRate = _this$props2.playbackRate;\n\n      if (_this.startOnPlay) {\n        if (_this.player.setPlaybackRate && playbackRate !== 1) {\n          _this.player.setPlaybackRate(playbackRate);\n        }\n\n        onStart();\n        _this.startOnPlay = false;\n      }\n\n      onPlay();\n\n      if (_this.seekOnPlay) {\n        _this.seekTo(_this.seekOnPlay);\n\n        _this.seekOnPlay = null;\n      }\n\n      _this.handleDurationCheck();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePause\", function (e) {\n      _this.isPlaying = false;\n\n      if (!_this.isLoading) {\n        _this.props.onPause(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEnded\", function () {\n      var _this$props3 = _this.props,\n          activePlayer = _this$props3.activePlayer,\n          loop = _this$props3.loop,\n          onEnded = _this$props3.onEnded;\n\n      if (activePlayer.loopOnEnded && loop) {\n        _this.seekTo(0);\n      }\n\n      if (!loop) {\n        _this.isPlaying = false;\n        onEnded();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleError\", function () {\n      var _this$props4;\n\n      _this.isLoading = false;\n\n      (_this$props4 = _this.props).onError.apply(_this$props4, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDurationCheck\", function () {\n      clearTimeout(_this.durationCheckTimeout);\n\n      var duration = _this.getDuration();\n\n      if (duration) {\n        if (!_this.onDurationCalled) {\n          _this.props.onDuration(duration);\n\n          _this.onDurationCalled = true;\n        }\n      } else {\n        _this.durationCheckTimeout = setTimeout(_this.handleDurationCheck, 100);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleLoaded\", function () {\n      // Sometimes we know loading has stopped but onReady/onPlay are never called\n      // so this provides a way for players to avoid getting stuck\n      _this.isLoading = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (player) {\n      if (player) {\n        _this.player = player;\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Player, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n      this.player.load(this.props.url);\n      this.progress();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.progressTimeout);\n      clearTimeout(this.durationCheckTimeout);\n\n      if (this.isReady) {\n        this.player.stop();\n      }\n\n      if (this.player.disablePIP) {\n        this.player.disablePIP();\n      }\n\n      this.mounted = false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this; // Invoke player methods based on changed props\n\n\n      var _this$props5 = this.props,\n          url = _this$props5.url,\n          playing = _this$props5.playing,\n          volume = _this$props5.volume,\n          muted = _this$props5.muted,\n          playbackRate = _this$props5.playbackRate,\n          pip = _this$props5.pip,\n          loop = _this$props5.loop,\n          activePlayer = _this$props5.activePlayer;\n\n      if (!(0, _utils.isEqual)(prevProps.url, url)) {\n        if (this.isLoading && !activePlayer.forceLoad) {\n          console.warn(\"ReactPlayer: the attempt to load \".concat(url, \" is being deferred until the player has loaded\"));\n          this.loadOnReady = url;\n          return;\n        }\n\n        this.isLoading = true;\n        this.startOnPlay = true;\n        this.onDurationCalled = false;\n        this.player.load(url, this.isReady);\n      }\n\n      if (!prevProps.playing && playing && !this.isPlaying) {\n        this.player.play();\n      }\n\n      if (prevProps.playing && !playing && this.isPlaying) {\n        this.player.pause();\n      }\n\n      if (!prevProps.pip && pip && this.player.enablePIP) {\n        this.player.enablePIP();\n      }\n\n      if (prevProps.pip && !pip && this.player.disablePIP) {\n        this.player.disablePIP();\n      }\n\n      if (prevProps.volume !== volume && volume !== null) {\n        this.player.setVolume(volume);\n      }\n\n      if (prevProps.muted !== muted) {\n        if (muted) {\n          this.player.mute();\n        } else {\n          this.player.unmute();\n\n          if (volume !== null) {\n            // Set volume next tick to fix a bug with DailyMotion\n            setTimeout(function () {\n              return _this2.player.setVolume(volume);\n            });\n          }\n        }\n      }\n\n      if (prevProps.playbackRate !== playbackRate && this.player.setPlaybackRate) {\n        this.player.setPlaybackRate(playbackRate);\n      }\n\n      if (prevProps.loop !== loop && this.player.setLoop) {\n        this.player.setLoop(loop);\n      }\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (!this.isReady) return null;\n      return this.player.getDuration();\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      if (!this.isReady) return null;\n      return this.player.getCurrentTime();\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      if (!this.isReady) return null;\n      return this.player.getSecondsLoaded();\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(amount, type) {\n      var _this3 = this; // When seeking before player is ready, store value and seek later\n\n\n      if (!this.isReady && amount !== 0) {\n        this.seekOnPlay = amount;\n        setTimeout(function () {\n          _this3.seekOnPlay = null;\n        }, SEEK_ON_PLAY_EXPIRY);\n        return;\n      }\n\n      var isFraction = !type ? amount > 0 && amount < 1 : type === 'fraction';\n\n      if (isFraction) {\n        // Convert fraction to seconds based on duration\n        var duration = this.player.getDuration();\n\n        if (!duration) {\n          console.warn('ReactPlayer: could not seek using fraction – duration not yet available');\n          return;\n        }\n\n        this.player.seekTo(duration * amount);\n        return;\n      }\n\n      this.player.seekTo(amount);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Player = this.props.activePlayer;\n\n      if (!Player) {\n        return null;\n      }\n\n      return _react[\"default\"].createElement(Player, _extends({}, this.props, {\n        ref: this.ref,\n        onReady: this.handleReady,\n        onPlay: this.handlePlay,\n        onPause: this.handlePause,\n        onEnded: this.handleEnded,\n        onLoaded: this.handleLoaded,\n        onError: this.handleError\n      }));\n    }\n  }]);\n\n  return Player;\n}(_react.Component);\n\nexports[\"default\"] = Player;\n\n_defineProperty(Player, \"displayName\", 'Player');\n\n_defineProperty(Player, \"propTypes\", _props.propTypes);\n\n_defineProperty(Player, \"defaultProps\", _props.defaultProps);","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseStartTime = parseStartTime;\nexports.parseEndTime = parseEndTime;\nexports.randomString = randomString;\nexports.queryString = queryString;\nexports.getSDK = getSDK;\nexports.getConfig = getConfig;\nexports.omit = omit;\nexports.callPlayer = callPlayer;\nexports.isObject = isObject;\nexports.isEqual = isEqual;\nexports.isMediaStream = isMediaStream;\n\nvar _react = require(\"react\");\n\nvar _loadScript = _interopRequireDefault(require(\"load-script\"));\n\nvar _deepmerge = _interopRequireDefault(require(\"deepmerge\"));\n\nvar _props = require(\"./props\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar MATCH_START_QUERY = /[?&#](?:start|t)=([0-9hms]+)/;\nvar MATCH_END_QUERY = /[?&#]end=([0-9hms]+)/;\nvar MATCH_START_STAMP = /(\\d+)(h|m|s)/g;\nvar MATCH_NUMERIC = /^\\d+$/; // Parse YouTube URL for a start time param, ie ?t=1h14m30s\n// and return the start time in seconds\n\nfunction parseTimeParam(url, pattern) {\n  var match = url.match(pattern);\n\n  if (match) {\n    var stamp = match[1];\n\n    if (stamp.match(MATCH_START_STAMP)) {\n      return parseTimeString(stamp);\n    }\n\n    if (MATCH_NUMERIC.test(stamp)) {\n      return parseInt(stamp);\n    }\n  }\n\n  return undefined;\n}\n\nfunction parseTimeString(stamp) {\n  var seconds = 0;\n  var array = MATCH_START_STAMP.exec(stamp);\n\n  while (array !== null) {\n    var _array = array,\n        _array2 = _slicedToArray(_array, 3),\n        count = _array2[1],\n        period = _array2[2];\n\n    if (period === 'h') seconds += parseInt(count, 10) * 60 * 60;\n    if (period === 'm') seconds += parseInt(count, 10) * 60;\n    if (period === 's') seconds += parseInt(count, 10);\n    array = MATCH_START_STAMP.exec(stamp);\n  }\n\n  return seconds;\n}\n\nfunction parseStartTime(url) {\n  return parseTimeParam(url, MATCH_START_QUERY);\n}\n\nfunction parseEndTime(url) {\n  return parseTimeParam(url, MATCH_END_QUERY);\n} // http://stackoverflow.com/a/38622545\n\n\nfunction randomString() {\n  return Math.random().toString(36).substr(2, 5);\n}\n\nfunction queryString(object) {\n  return Object.keys(object).map(function (key) {\n    return \"\".concat(key, \"=\").concat(object[key]);\n  }).join('&');\n} // Util function to load an external SDK\n// or return the SDK if it is already loaded\n\n\nvar requests = {};\n\nfunction getSDK(url, sdkGlobal) {\n  var sdkReady = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var isLoaded = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {\n    return true;\n  };\n  var fetchScript = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _loadScript[\"default\"];\n\n  if (window[sdkGlobal] && isLoaded(window[sdkGlobal])) {\n    return Promise.resolve(window[sdkGlobal]);\n  }\n\n  return new Promise(function (resolve, reject) {\n    // If we are already loading the SDK, add the resolve and reject\n    // functions to the existing array of requests\n    if (requests[url]) {\n      requests[url].push({\n        resolve: resolve,\n        reject: reject\n      });\n      return;\n    }\n\n    requests[url] = [{\n      resolve: resolve,\n      reject: reject\n    }];\n\n    var onLoaded = function onLoaded(sdk) {\n      // When loaded, resolve all pending request promises\n      requests[url].forEach(function (request) {\n        return request.resolve(sdk);\n      });\n    };\n\n    if (sdkReady) {\n      var previousOnReady = window[sdkReady];\n\n      window[sdkReady] = function () {\n        if (previousOnReady) previousOnReady();\n        onLoaded(window[sdkGlobal]);\n      };\n    }\n\n    fetchScript(url, function (err) {\n      if (err) {\n        // Loading the SDK failed – reject all requests and\n        // reset the array of requests for this SDK\n        requests[url].forEach(function (request) {\n          return request.reject(err);\n        });\n        requests[url] = null;\n      } else if (!sdkReady) {\n        onLoaded(window[sdkGlobal]);\n      }\n    });\n  });\n}\n\nfunction getConfig(props, defaultProps, showWarning) {\n  var config = (0, _deepmerge[\"default\"])(defaultProps.config, props.config);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = _props.DEPRECATED_CONFIG_PROPS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var p = _step.value;\n\n      if (props[p]) {\n        var key = p.replace(/Config$/, '');\n        config = (0, _deepmerge[\"default\"])(config, _defineProperty({}, key, props[p]));\n\n        if (showWarning) {\n          var link = 'https://github.com/CookPete/react-player#config-prop';\n          var message = \"ReactPlayer: %c\".concat(p, \" %cis deprecated, please use the config prop instead \\u2013 \").concat(link);\n          console.warn(message, 'font-weight: bold', '');\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return config;\n}\n\nfunction omit(object) {\n  var _ref;\n\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n\n  var omitKeys = (_ref = []).concat.apply(_ref, arrays);\n\n  var output = {};\n  var keys = Object.keys(object);\n\n  for (var _i2 = 0, _keys = keys; _i2 < _keys.length; _i2++) {\n    var key = _keys[_i2];\n\n    if (omitKeys.indexOf(key) === -1) {\n      output[key] = object[key];\n    }\n  }\n\n  return output;\n}\n\nfunction callPlayer(method) {\n  var _this$player; // Util method for calling a method on this.player\n  // but guard against errors and console.warn instead\n\n\n  if (!this.player || !this.player[method]) {\n    var message = \"ReactPlayer: \".concat(this.constructor.displayName, \" player could not call %c\").concat(method, \"%c \\u2013 \");\n\n    if (!this.player) {\n      message += 'The player was not available';\n    } else if (!this.player[method]) {\n      message += 'The method was not available';\n    }\n\n    console.warn(message, 'font-weight: bold', '');\n    return null;\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return (_this$player = this.player)[method].apply(_this$player, args);\n}\n\nfunction isObject(val) {\n  return val !== null && _typeof(val) === 'object';\n} // Deep comparison of two objects, but ignoring functions\n// and React elements, for use in shouldComponentUpdate\n\n\nfunction isEqual(a, b) {\n  if (typeof a === 'function' && typeof b === 'function') {\n    return true;\n  }\n\n  if ((0, _react.isValidElement)(a) && (0, _react.isValidElement)(b)) {\n    return true;\n  }\n\n  if (a instanceof Array && b instanceof Array) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i !== a.length; i++) {\n      if (!isEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (isObject(a) && isObject(b)) {\n    if (Object.keys(a).length !== Object.keys(b).length) {\n      return false;\n    }\n\n    for (var _i3 = 0, _Object$keys = Object.keys(a); _i3 < _Object$keys.length; _i3++) {\n      var key = _Object$keys[_i3];\n\n      if (!isEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return a === b;\n}\n\nfunction isMediaStream(url) {\n  return typeof window !== 'undefined' && typeof window.MediaStream !== 'undefined' && url instanceof window.MediaStream;\n}","import { sortAlphabetically } from 'utils/formatting/text'\n\nexport type TagPrefix = 'type' | 'genre' | 'sub'\n\nconst tagPrefixNames = {\n  type: 'Type',\n  genre: 'Genre',\n  sub: 'Subject',\n}\n\nexport interface BookWithTags {\n  tags: string[]\n}\n\nexport const splitTagByPrefix = (tag: string): [string, string, string] => {\n  const parts = tag.split('-')\n  return [parts[0], parts.slice(1).join('-'), tag]\n}\n\nexport const splitTagsByPrefix = (\n  tags: string[]\n): {\n  prefix: string\n  values: {\n    name: string\n    unprefixed: string\n  }[]\n}[] => {\n  const resultMap = tags\n    .map(splitTagByPrefix)\n    .reduce((prev, [prefix, name, unprefixed]) => {\n      const value = { name, unprefixed }\n      if (prev[prefix]) {\n        prev[prefix].push(value)\n      } else {\n        prev[prefix] = [value]\n      }\n      return prev\n    }, {})\n\n  return Object.keys(tagPrefixNames)\n    .filter((p) => resultMap[p])\n    .map((prefix) => ({\n      prefix: tagPrefixNames[prefix],\n      values: resultMap[prefix],\n    }))\n}\n\nexport const getTagsFromBooks = (\n  books: BookWithTags[],\n  prefix?: TagPrefix\n): string[] => {\n  const tags = []\n  books.forEach((b) => tags.push(...b.tags))\n  const dedupedTags = [...new Set(tags)]\n  const orderedTags = sortAlphabetically(dedupedTags)\n\n  if (!prefix) return orderedTags\n\n  return orderedTags\n    .filter((tag) => tag.startsWith(`${prefix}-`))\n    .map((tag) => tag.slice(prefix.length + 1))\n}\n\nexport const filterBooksByTags = (\n  books: BookWithTags[],\n  filterType?: string,\n  filterGenre?: string,\n  filterSubject?: string,\n  ignorePrefix?: TagPrefix\n): BookWithTags[] => {\n  let filteredBooks = books\n  if (filterType && ignorePrefix !== 'type')\n    filteredBooks = filteredBooks.filter((book) =>\n      book.tags.includes(`type-${filterType}`)\n    )\n  if (filterGenre && ignorePrefix !== 'genre')\n    filteredBooks = filteredBooks.filter((book) =>\n      book.tags.includes(`genre-${filterGenre}`)\n    )\n  if (filterSubject && ignorePrefix !== 'sub')\n    filteredBooks = filteredBooks.filter((book) =>\n      book.tags.includes(`sub-${filterSubject}`)\n    )\n\n  return filteredBooks\n}\n","import { makeIsbn10 } from 'utils/formatting/isbn'\n\nexport const AFFILIATES = {\n  GOODREADS: 'gr',\n  AMAZON: 'amzn',\n  BOOK_DEPOSITORY: 'bd',\n}\n\nexport const getLink = (isbn: string, affiliateAbbr: string): string => {\n  if (affiliateAbbr === AFFILIATES.GOODREADS)\n    return `https://www.goodreads.com/search?query=${isbn}`\n\n  if (affiliateAbbr === AFFILIATES.AMAZON)\n    return `https://www.amazon.co.uk/dp/${makeIsbn10(\n      String(isbn)\n    )}?tag=thcdex-21`\n\n  if (affiliateAbbr === AFFILIATES.BOOK_DEPOSITORY)\n    return `https://bookdepository.com/search?searchTerm=${isbn}&a_id=char`\n}\n\nexport const getShortLink = (isbn: string, affiliateAbbr: string): string =>\n  `https://cha.rs/${parseInt(isbn)\n    .toString(36)\n    .toUpperCase()}/${affiliateAbbr}`\n\nexport const getAffiliateLinks = (isbn: string): object => {\n  const long = {}\n  const short = {}\n\n  Object.values(AFFILIATES).forEach((affiliate: string) => {\n    long[affiliate] = getLink(isbn, affiliate)\n    short[affiliate] = getShortLink(isbn, affiliate)\n  })\n\n  return {\n    long,\n    short,\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Book } from 'types/book'\nimport { AFFILIATES } from 'utils/urls/affiliates'\nimport { FONT } from 'styles/tokens'\nimport { screenMin } from 'styles/responsive'\nimport ArrowIcon from 'components/icons/ArrowIcon'\n\nconst AFFILIATE_ACTIONS = {\n  [AFFILIATES.GOODREADS]: 'See on Goodreads',\n  [AFFILIATES.AMAZON]: 'Buy on Amazon',\n  [AFFILIATES.BOOK_DEPOSITORY]: 'Buy on Book Depository',\n}\n\nconst StyledLi = styled.li`\n  font-size: ${FONT.SIZE.S};\n\n  ${screenMin.l`\n    margin-left: -1.5em;\n  `}\n`\n\nconst StyledArrowIcon = styled(ArrowIcon)`\n  margin: 0 0.75em 0 0;\n`\n\ntype Props = Pick<Book, 'links'>\n\nconst BookAffiliates: React.FC<Props> = ({ links }) => (\n  <ol>\n    {Object.entries(AFFILIATE_ACTIONS).map(([affiliateAbbr, label]) => (\n      <StyledLi key={affiliateAbbr}>\n        <a href={links.long[affiliateAbbr]}>\n          <StyledArrowIcon />\n          {label}\n        </a>\n      </StyledLi>\n    ))}\n  </ol>\n)\n\nexport default BookAffiliates\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","import React from 'react'\n\ninterface Props {\n  className?: string\n}\n\nconst PlayIcon: React.FC<Props> = ({ className }) => (\n  <svg viewBox=\"0 0 11 14\" className={className}>\n    <path d=\"M9.2,6.2l-7.5-5c-0.5-0.3-1.2,0-1.2,0.6v10.3c0,0.6,0.7,1,1.2,0.6l7.5-5C9.8,7.4,9.8,6.6,9.2,6.2z\" />\n  </svg>\n)\n\nexport default PlayIcon\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\nimport Img from 'gatsby-image'\nimport YouTubePlayer from 'react-player/lib/players/YouTube'\n\nimport { VideoCardType } from 'types/video'\nimport { shortFormatDate, unformatTimestamp } from 'utils/formatting/time'\nimport { formatViewCount } from 'utils/formatting/numbers'\nimport H from 'components/H'\nimport { COLOR, FONT, BORDER_RADIUS, BREAKPOINT } from 'styles/tokens'\nimport StarRating from 'components/StarRating'\nimport AspectRatioWrapper from 'components/AspectRatioWrapper'\nimport PlayIcon from 'components/icons/PlayIcon'\n\nconst YouTubePlayerConfig = {\n  youtube: {\n    playerVars: {\n      rel: 0,\n      controls: 1,\n      autoplay: 1,\n    },\n  },\n}\n\nconst StyledVideoCard = styled(Link)`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  overflow: hidden;\n  background: ${COLOR.BACKGROUND_DARK};\n  border-radius: ${BORDER_RADIUS.S};\n`\n\nconst StyledPlayButton = styled.button`\n  position: absolute;\n  z-index: 1;\n  padding: 0.5em 0.6em;\n  line-height: 0;\n`\n\nconst StyledPlayIcon = styled(PlayIcon)`\n  width: 1em;\n  fill: ${COLOR.BACKGROUND_LIGHT};\n  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.1));\n`\n\nconst StyledImg = styled(Img)`\n  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.1);\n`\n\nconst StyledDetails = styled.div`\n  padding: 0.5em 0.5em 0.3em;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 4.8em;\n`\n\nconst StyledTimestamp = styled.p`\n  font-size: ${FONT.SIZE.S};\n  margin: 0;\n`\n\nconst StyledMeta = styled.p`\n  display: flex;\n  justify-content: space-between;\n  flex-flow: wrap-reverse;\n  font-size: ${FONT.SIZE.XS};\n  margin: 0;\n  opacity: 0.5;\n`\n\nconst StyledDatePublished = styled.time`\n  margin-right: 0.5em;\n`\n\nconst StyledH = styled(H)`\n  margin: 0;\n`\n\ninterface BookContentsProps {\n  isStars: boolean\n}\n\nconst StyledBookContentsWrapper = styled.div<BookContentsProps>`\n  font-size: ${({ isStars }): string =>\n    isStars ? FONT.SIZE.XXS : FONT.SIZE.XS};\n  margin: ${({ isStars }): number => (isStars ? 0.4 : 0.2)}em 0;\n  opacity: 0.75;\n`\n\ninterface Props {\n  video: VideoCardType\n  featured?: boolean\n  timestamp?: string\n  big?: boolean\n  playsInline?: boolean\n  hideOwnedByRating?: boolean\n}\n\nconst VideoCard: React.FC<Props> = ({\n  video,\n  featured,\n  timestamp,\n  big,\n  playsInline,\n  hideOwnedByRating,\n}) => {\n  const [playVideo, setPlayVideo] = useState(false)\n  const featuredBookCount =\n    (video.timestamps || []).filter((t) => t.book && t.book.id).length +\n    (video.ownedBy ? 1 : 0)\n\n  return (\n    <StyledVideoCard\n      to={timestamp ? `${video.slug}?at=${timestamp}` : video.slug}\n      style={\n        {\n          background: featured && video.image.colors.lightVibrant,\n          color: featured && video.image.colors.darkMuted,\n          '--primary-color': video.image.colors.vibrant,\n        } as object\n      }\n    >\n      <AspectRatioWrapper style={{ backgroundColor: video.image.colors.muted }}>\n        {playVideo ? (\n          <YouTubePlayer\n            url={`https://www.youtube.com/watch?v=${\n              video.youtubeId\n            }${timestamp && `&t=${unformatTimestamp(timestamp)}`}`}\n            config={YouTubePlayerConfig}\n            width=\"100%\"\n            height=\"100%\"\n          />\n        ) : (\n          <div>\n            {playsInline && (\n              <StyledPlayButton\n                onClick={(e): void => {\n                  e.preventDefault()\n                  setPlayVideo(true)\n                }}\n              >\n                <StyledPlayIcon />\n              </StyledPlayButton>\n            )}\n            <StyledImg\n              fluid={\n                big\n                  ? [\n                      {\n                        ...video.image.childImageSharp.w200,\n                        media: `(max-width: ${BREAKPOINT.M - 1}px)`,\n                      },\n                      {\n                        ...video.image.childImageSharp.w350,\n                        media: `(min-width: ${BREAKPOINT.M}px)`,\n                      },\n                    ]\n                  : video.image.childImageSharp.w200\n              }\n            />\n          </div>\n        )}\n      </AspectRatioWrapper>\n      <StyledDetails>\n        <div>\n          {timestamp && (\n            <StyledTimestamp>Featured at {timestamp} in</StyledTimestamp>\n          )}\n          <StyledH as=\"h2\" size=\"S\">\n            {video.title}\n          </StyledH>\n\n          <StyledBookContentsWrapper isStars={!!video.ownedBy}>\n            {video.ownedBy && !hideOwnedByRating\n              ? video.ownedBy.rating7 && (\n                  <StarRating of7={video.ownedBy.rating7} />\n                )\n              : !timestamp &&\n                featuredBookCount > 1 && (\n                  <>\n                    Featuring {featuredBookCount} book\n                    {featuredBookCount > 1 && 's'}\n                  </>\n                )}\n          </StyledBookContentsWrapper>\n        </div>\n        <StyledMeta>\n          <StyledDatePublished>\n            {shortFormatDate(video.datePublished)}\n          </StyledDatePublished>\n          {video.viewCount >\n            parseInt(process.env.GATSBY_YOUTUBE_VIEWS_MINIMUM_VISIBLE) && (\n            <span>{formatViewCount(video.viewCount)}</span>\n          )}\n        </StyledMeta>\n      </StyledDetails>\n    </StyledVideoCard>\n  )\n}\n\nexport default VideoCard\n"],"sourceRoot":""}